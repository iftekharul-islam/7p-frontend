import{aG as C,r as o,k as N,a as P,bK as v,j as a,X as u,Z as D,Y as d,f as l,Q as S,S as j,T as M,V as $,a0 as p,$ as k,G as w,bL as A}from"./index.7687a0d9.js";import{a as B}from"./App.c5a53fe9.js";const G=()=>{const{id:t}=C(),[c,i]=o.exports.useState([]),h=B(),x=N(),e=P(s=>s.manufactures);o.exports.useEffect(()=>{t&&h(v(t))},[t]),o.exports.useEffect(()=>{e!=null&&e.manufacturePermission&&i(e==null?void 0:e.manufacturePermission)},[e==null?void 0:e.manufacturePermission]);const b=s=>{const n=c==null?void 0:c.map(r=>{var f,m;return(r==null?void 0:r.id)==((f=s==null?void 0:s.target)==null?void 0:f.id)?{...r,[(m=s==null?void 0:s.target)==null?void 0:m.name]:s==null?void 0:s.target.checked}:r});i(n)},g=s=>{const n=c==null?void 0:c.map(r=>({...r,access:s==null?void 0:s.target.checked}));i(n)},y=async()=>{var n;const s=await h(A({id:t,data:c}));(n=s==null?void 0:s.payload)!=null&&n.status&&x("/manufacture")};return a(o.exports.Fragment,{children:a(u,{children:a(D,{children:a(d,{sm:"6",children:l(S,{children:[a(j,{children:a(M,{tag:"h4",children:"Manufacture Permissions"})}),l($,{children:[l(u,{children:[c==null?void 0:c.map(s=>a(d,{sm:"12",children:l("div",{className:"form-check form-check-success",children:[a(p,{type:"checkbox",id:s==null?void 0:s.id,name:"access",checked:s==null?void 0:s.access,onChange:b}),a(k,{className:"form-check-label",for:"success-checkbox",children:s==null?void 0:s.name})]})})),a(d,{sm:"12",className:"mt-2",children:l("div",{className:"form-check form-check-success",children:[a(p,{type:"checkbox",name:"access",defaultChecked:!1,onChange:g}),a(k,{className:"form-check-label",for:"success-checkbox",children:"Select/Deselect All Permissions"})]})})]}),a(u,{children:a(d,{sm:"12",className:"mt-1",children:a("div",{className:"d-flex",children:a(w,{className:"me-1",color:"primary",type:"submit",onClick:s=>{s.preventDefault(),y()},children:"Update Permission"})})})})]})]})})})})})};export{G as default};
