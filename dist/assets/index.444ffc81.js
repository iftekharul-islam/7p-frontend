import{j as t,f as n,r as F,I as h,L as p,aa as g,H as D,at as L,au as G,av as M,Y as I,Z as r,G as b,a1 as k,a as $,aw as R,ax as q,ay as U,az as E,aA as P,Q as H,V as W,aB as Y,k as Q,aC as X}from"./index.db14b012.js";/* empty css                  *//* empty css                  */import{a as B}from"./App.c9615b80.js";/* empty css                                  */import{Q as K}from"./index.es.64bd45b6.js";import{F as T}from"./index.5a4c75c1.js";import{R as Z}from"./react-paginate.8024126d.js";import{S as A}from"./react-select.esm.1d40a800.js";import{E as J}from"./edit.621b3005.js";import{C as w,S as ee,D as te,a as ae,L as le}from"./star.f0403c10.js";import{P as ie}from"./printer.da9ee7b3.js";import{T as ne}from"./trash-2.1f2026da.js";import{S as se}from"./send.1d6c226b.js";import{C as de}from"./chevron-down.8322b70f.js";import{P as ce}from"./plus-circle.9a569c41.js";import"./emotion-memoize.esm.06f0e458.js";const re=e=>{var v,S;B();const[l,c]=F.exports.useState(null),[o,i]=F.exports.useState(!1),[m,u]=F.exports.useState(!1),z=()=>u(!m),j=d=>{d.preventDefault(),i(!o)},f=(d,_,N,C)=>{try{var O='<?xml version="1.0" encoding="utf-8"?>                 <DieCutLabel Version="8.0" Units="twips">                <PaperOrientation>Landscape</PaperOrientation>                <Id>Address</Id>                <PaperName>30252 Address</PaperName>                <DrawCommands/>                <ObjectInfo>                   <TextObject>                      <Name>Stock_label</Name>                      <ForeColor Alpha="255" Red="0" Green="0" Blue="0" />                      <BackColor Alpha="0" Red="255" Green="255" Blue="255" />                      <LinkedObjectName />                      <Rotation>Rotation0</Rotation>                      <IsMirrored>False</IsMirrored>                      <IsVariable>False</IsVariable>                      <GroupID>-1</GroupID>                      <IsOutlined>False</IsOutlined>                      <HorizontalAlignment>Left</HorizontalAlignment>                      <VerticalAlignment>Top</VerticalAlignment>                      <TextFitMode>ShrinkToFit</TextFitMode>                      <UseFullFontHeight>True</UseFullFontHeight>                      <Verticalized>False</Verticalized>                      <StyledText>                         <Element>                            <String xml:space="preserve">Stock#</String>                            <Attributes>                               <Font Family="Arial" Size="11" Bold="False" Italic="False" Underline="False" Strikeout="False" />                               <ForeColor Alpha="255" Red="0" Green="0" Blue="0" HueScale="100" />                            </Attributes>                         </Element>                      </StyledText>                   </TextObject>                   <Bounds X="331" Y="74" Width="764" Height="270" />                </ObjectInfo>                <ObjectInfo>                   <TextObject>                      <Name>Bin_label</Name>                      <ForeColor Alpha="255" Red="0" Green="0" Blue="0" />                      <BackColor Alpha="0" Red="255" Green="255" Blue="255" />                      <LinkedObjectName />                      <Rotation>Rotation0</Rotation>                      <IsMirrored>False</IsMirrored>                      <IsVariable>False</IsVariable>                      <GroupID>-1</GroupID>                      <IsOutlined>False</IsOutlined>                      <HorizontalAlignment>Left</HorizontalAlignment>                      <VerticalAlignment>Top</VerticalAlignment>                      <TextFitMode>ShrinkToFit</TextFitMode>                      <UseFullFontHeight>True</UseFullFontHeight>                      <Verticalized>False</Verticalized>                      <StyledText>                         <Element>                            <String xml:space="preserve">Bin#</String>                            <Attributes>                               <Font Family="Arial" Size="11" Bold="False" Italic="False" Underline="False" Strikeout="False" />                               <ForeColor Alpha="255" Red="0" Green="0" Blue="0" HueScale="100" />                            </Attributes>                         </Element>                      </StyledText>                   </TextObject>                   <Bounds X="1872" Y="72" Width="509" Height="270" />                </ObjectInfo>                <ObjectInfo>                   <TextObject>                      <Name>Stock_no</Name>                      <ForeColor Alpha="255" Red="0" Green="0" Blue="0" />                      <BackColor Alpha="0" Red="255" Green="255" Blue="255" />                      <LinkedObjectName />                      <Rotation>Rotation0</Rotation>                      <IsMirrored>False</IsMirrored>                      <IsVariable>False</IsVariable>                      <GroupID>-1</GroupID>                      <IsOutlined>False</IsOutlined>                      <HorizontalAlignment>Left</HorizontalAlignment>                      <VerticalAlignment>Top</VerticalAlignment>                      <TextFitMode>ShrinkToFit</TextFitMode>                      <UseFullFontHeight>True</UseFullFontHeight>                      <Verticalized>False</Verticalized>                      <StyledText>                         <Element>                            <String xml:space="preserve">STOCKNO</String>                            <Attributes>                               <Font Family="Arial" Size="11" Bold="True" Italic="False" Underline="False" Strikeout="False" />                               <ForeColor Alpha="255" Red="0" Green="0" Blue="0" HueScale="100" />                            </Attributes>                         </Element>                      </StyledText>                   </TextObject>                   <Bounds X="1053" Y="72" Width="734" Height="270" />                </ObjectInfo>                <ObjectInfo>                   <TextObject>                      <Name>Bin</Name>                      <ForeColor Alpha="255" Red="0" Green="0" Blue="0" />                      <BackColor Alpha="0" Red="255" Green="255" Blue="255" />                      <LinkedObjectName />                      <Rotation>Rotation0</Rotation>                      <IsMirrored>False</IsMirrored>                      <IsVariable>False</IsVariable>                      <GroupID>-1</GroupID>                      <IsOutlined>False</IsOutlined>                      <HorizontalAlignment>Left</HorizontalAlignment>                      <VerticalAlignment>Top</VerticalAlignment>                      <TextFitMode>ShrinkToFit</TextFitMode>                      <UseFullFontHeight>True</UseFullFontHeight>                      <Verticalized>False</Verticalized>                      <StyledText>                         <Element>                            <String xml:space="preserve">BIN</String>                            <Attributes>                               <Font Family="Arial" Size="11" Bold="True" Italic="False" Underline="False" Strikeout="False" />                               <ForeColor Alpha="255" Red="0" Green="0" Blue="0" HueScale="100" />                            </Attributes>                         </Element>                      </StyledText>                   </TextObject>                   <Bounds X="2386" Y="72" Width="1050" Height="270" />                </ObjectInfo>                <ObjectInfo>                   <BarcodeObject>                      <Name>Barcode</Name>                      <ForeColor Alpha="255" Red="0" Green="0" Blue="0" />                      <BackColor Alpha="0" Red="255" Green="255" Blue="255" />                      <LinkedObjectName />                      <Rotation>Rotation0</Rotation>                      <IsMirrored>False</IsMirrored>                      <IsVariable>True</IsVariable>                      <GroupID>-1</GroupID>                      <IsOutlined>False</IsOutlined>                      <Text>12345</Text>                      <Type>Code39</Type>                      <Size>Medium</Size>                      <TextPosition>None</TextPosition>                      <TextFont Family="Arial" Size="8" Bold="False" Italic="False" Underline="False" Strikeout="False" />                      <CheckSumFont Family="Arial" Size="8" Bold="False" Italic="False" Underline="False" Strikeout="False" />                      <TextEmbedding>None</TextEmbedding>                      <ECLevel>0</ECLevel>                      <HorizontalAlignment>Left</HorizontalAlignment>                      <QuietZonesPadding Left="0" Top="0" Right="0" Bottom="0" />                   </BarcodeObject>                   <Bounds X="331" Y="435" Width="2910" Height="720" />                </ObjectInfo>                <ObjectInfo>                   <ImageObject>                      <Name>Stock_Image</Name>                      <ForeColor Alpha="255" Red="0" Green="0" Blue="0" />                      <BackColor Alpha="0" Red="255" Green="255" Blue="255" />                      <LinkedObjectName />                      <Rotation>Rotation0</Rotation>                      <IsMirrored>False</IsMirrored>                      <IsVariable>False</IsVariable>                      <GroupID>-1</GroupID>                      <IsOutlined>False</IsOutlined>                      <Image></Image>                      <ScaleMode>Uniform</ScaleMode>                      <BorderWidth>0</BorderWidth>                      <BorderColor Alpha="255" Red="0" Green="0" Blue="0" />                      <HorizontalAlignment>Center</HorizontalAlignment>                      <VerticalAlignment>Center</VerticalAlignment>                   </ImageObject>                   <Bounds X="3378" Y="57" Width="1440" Height="1435" />                </ObjectInfo>                <ObjectInfo>                   <TextObject>                      <Name>Description</Name>                      <ForeColor Alpha="255" Red="0" Green="0" Blue="0" />                      <BackColor Alpha="0" Red="255" Green="255" Blue="255" />                      <LinkedObjectName />                      <Rotation>Rotation0</Rotation>                      <IsMirrored>False</IsMirrored>                      <IsVariable>False</IsVariable>                      <GroupID>-1</GroupID>                      <IsOutlined>False</IsOutlined>                      <HorizontalAlignment>Left</HorizontalAlignment>                      <VerticalAlignment>Top</VerticalAlignment>                      <TextFitMode>ShrinkToFit</TextFitMode>                      <UseFullFontHeight>True</UseFullFontHeight>                      <Verticalized>False</Verticalized>                      <StyledText>                         <Element>                            <String xml:space="preserve">DESCRIPTION</String>                            <Attributes>                               <Font Family="Arial" Size="11" Bold="True" Italic="False" Underline="False" Strikeout="False" />                               <ForeColor Alpha="255" Red="0" Green="0" Blue="0" HueScale="100" />                            </Attributes>                         </Element>                      </StyledText>                   </TextObject>                   <Bounds X="331" Y="1208" Width="3617" Height="285" />                </ObjectInfo>                 </DieCutLabel>',a=dymo.label.framework.openLabelXml(O);a.setObjectText("Description",N),a.setObjectText("Stock_no",d),a.setObjectText("Bin",_),a.setObjectText("Barcode",d),a.setObjectText("Url",C);var s=get_printer();a.print(s)}catch(x){alert(x.message||x)}};return n("div",{className:"column-action",children:[n(h,{children:[t(p,{className:"text-truncate text-capitalize align-middle",to:`/inventory-edit/${e.id}`,id:`edit-${e==null?void 0:e.id}`,children:t(J,{size:18,className:"text-primary me-50"})}),t(g,{target:`edit-${e==null?void 0:e.id}`,children:"Edit"})]}),n(h,{children:[t(p,{className:"text-truncate text-capitalize align-middle",to:`/inventory-add?id=${e.id}`,id:`duplicate-${e==null?void 0:e.id}`,children:t(w,{size:18,className:"text-primary me-50"})}),t(g,{target:`duplicate-${e==null?void 0:e.id}`,children:"Duplicate"})]}),n(h,{children:[t(p,{className:"text-truncate text-capitalize align-middle",to:"/",onClick:d=>{d.preventDefault(),f(e==null?void 0:e.stock_no_unique,e==null?void 0:e.wh_bin,e==null?void 0:e.stock_name_discription,e==null?void 0:e.warehouse)},id:`print-${e==null?void 0:e.id}`,children:t(ie,{size:18,className:"text-primary me-50"})}),t(g,{target:`print-${e==null?void 0:e.id}`,children:"Print Label"})]}),n(h,{children:[t(p,{className:"text-truncate text-capitalize align-middle",onClick:d=>{d.preventDefault(),c(e),i(!0)},id:`delete-${e==null?void 0:e.id}`,children:t(ne,{size:18,className:"text-danger me-50"})}),t(g,{target:`delete-${e==null?void 0:e.id}`,children:"Delete"})]}),n(h,{children:[t(p,{className:"text-truncate text-capitalize align-middle",to:`/product?q=${e.stock_no_unique}`,id:`vendor-${e==null?void 0:e.id}`,children:t(ee,{size:18,className:"text-primary me-50"})}),t(g,{target:`vendor-${e==null?void 0:e.id}`,children:"Vendor Information"})]}),n(h,{children:[t(p,{className:"text-truncate text-capitalize align-middle",to:`/order?q=${e.stock_no_unique}`,id:`po-${e==null?void 0:e.id}`,children:t(te,{size:18,className:"text-primary me-50"})}),t(g,{target:`po-${e==null?void 0:e.id}`,children:"View Purchase Orders"})]}),n(h,{children:[t(p,{className:"text-truncate text-capitalize align-middle",to:`/adjustment?q=${e.stock_no_unique}`,id:`adjustment-${e==null?void 0:e.id}`,children:t(ae,{size:18,className:"text-primary me-50"})}),t(g,{target:`adjustment-${e==null?void 0:e.id}`,children:"View Adjustments"})]}),n(h,{children:[t(p,{className:"text-truncate text-capitalize align-middle",to:"/",onClick:d=>{d.preventDefault(),z()},id:`skus-${e==null?void 0:e.id}`,children:t(le,{size:18,className:"text-primary me-50"})}),n(g,{target:`skus-${e==null?void 0:e.id}`,children:["View Assigned Child SKUs (",(v=e==null?void 0:e.inventory_unit_relation)==null?void 0:v.length,")"]})]}),n(h,{children:[t(p,{className:"text-truncate text-capitalize align-middle",to:`/stock-edit/${e.id}`,id:`task-${e==null?void 0:e.id}`,children:t(se,{size:18,className:"text-primary me-50"})}),t(g,{target:`task-${e==null?void 0:e.id}`,children:"Task"})]}),t("div",{children:t(D,{isOpen:m,children:t("div",{children:(S=e==null?void 0:e.inventory_unit_relation)==null?void 0:S.map(d=>t("div",{children:d==null?void 0:d.child_sku}))})})}),n(L,{isOpen:o,toggle:()=>i(!o),className:"modal-dialog-centered modal-lg",children:[t(G,{className:"bg-transparent",toggle:()=>i(!o)}),n(M,{className:"px-2 pb-2",children:[t("div",{className:"text-center mb-4",children:t("h1",{children:"Are you sure to delete?"})}),t(I,{tag:"form",onSubmit:j,children:n(r,{className:"text-center mt-2",xs:12,children:[t(b,{type:"submit",color:"danger",className:"me-1",children:"Confirm"}),t(b,{outline:!0,onClick:()=>i(!o),children:"Cancel"})]})})]})]})]})},oe=e=>{B();const[l,c]=F.exports.useState(e==null?void 0:e.wh_bin);return n("div",{children:[t(k,{type:"text",className:"mb-1",name:"wh_bin",id:"wh_bin",placeholder:"Bin",value:l,onChange:i=>{var m;return c((m=i==null?void 0:i.target)==null?void 0:m.value)}}),t(b,{className:"me-1",color:"primary",type:"submit",onClick:i=>{i.preventDefault()},children:"Update"})]})},me=e=>{B();const[l,c]=F.exports.useState(e==null?void 0:e.qty_on_hand);return n("div",{children:[t(k,{type:"text",className:"mb-1",name:"qty_on_hand",id:"qty_on_hand",placeholder:"QTY",value:l,onChange:i=>{var m;return c((m=i==null?void 0:i.target)==null?void 0:m.value)}}),t(b,{className:"me-1",color:"primary",type:"submit",onClick:i=>{i.preventDefault()},children:"Update"})]})},ue=[{name:"Image",sortable:!1,minWidth:"20px",sortField:"warehouse",selector:e=>e.warehouse,cell:e=>t("img",{src:e.warehouse,height:"50",width:"50"})},{name:"Inventory Item",sortable:!1,minWidth:"320px",sortField:"stock_no",selector:e=>e.stock_no_unique,cell:e=>{var l,c;return n("div",{children:[n("div",{children:[e==null?void 0:e.stock_no_unique," : ",e==null?void 0:e.stock_name_discription]}),t("small",{children:(l=e==null?void 0:e.section)==null?void 0:l.section_name}),re(e),(e==null?void 0:e.qty_user)&&n("small",{children:["QTY updated by ",(c=e==null?void 0:e.qty_user)==null?void 0:c.name," - ",e==null?void 0:e.qty_date]})]})}},{name:"Bin",sortable:!1,minWidth:"180px",sortField:"wh_bin",selector:e=>e.wh_bin,cell:oe},{name:"On Hand",sortable:!1,minWidth:"180px",sortField:"qty_on_hand",selector:e=>e.qty_on_hand,cell:me},{name:"Vendor",sortable:!1,minWidth:"150px",sortField:"vendor_name",selector:e=>e.vendor_name,cell:e=>{var l,c,o,i,m;return n("div",{children:[((l=e==null?void 0:e.last_product)==null?void 0:l.vendor)&&t("div",{children:(o=(c=e==null?void 0:e.last_product)==null?void 0:c.vendor)==null?void 0:o.vendor_name}),((i=e==null?void 0:e.last_product)==null?void 0:i.vendor)&&n("div",{children:["Lead Time: ",(m=e==null?void 0:e.last_product)==null?void 0:m.lead_time_days]}),n("div",{children:["Purchase: ",e==null?void 0:e.total_purchase]})]})}},{name:"Current",sortable:!1,minWidth:"120px",sortField:"qty_alloc",selector:e=>e.qty_alloc,cell:e=>n("div",{children:[n("div",{children:["Allocated: ",e==null?void 0:e.qty_alloc]}),n("div",{children:["Expected: ",e==null?void 0:e.qty_exp]})]})},{name:"Ordering",sortable:!1,minWidth:"120px",sortField:"qty_av",selector:e=>e.qty_av,cell:e=>n("div",{children:[n("div",{children:["Available: ",e==null?void 0:e.qty_av]}),n("div",{children:["Min. Qty: ",e==null?void 0:e.min_reorder]})]})},{name:"Value",sortable:!1,minWidth:"120px",sortField:"last_cost",selector:e=>e.last_cost,cell:e=>n("div",{children:[n("div",{children:["Cost: ",e==null?void 0:e.last_cost]}),n("div",{children:["Value: $",e==null?void 0:e.value]})]})},{name:"Sales History",sortable:!1,minWidth:"120px",sortField:"sales_30",selector:e=>e.sales_30,cell:e=>n("div",{children:[n("div",{children:["30 days: ",e==null?void 0:e.sales_30]}),n("div",{children:["90 days: ",e==null?void 0:e.sales_90]}),n("div",{children:["Total: ",e==null?void 0:e.total_sale]})]})}],ke=()=>{var f,v,S,d,_,N,C,O;const e=B(),l=$(a=>a.batchList),[c,o]=F.exports.useState(!1),i=l==null?void 0:l.searchParams;F.exports.useEffect(()=>{l!=null&&l.params&&e(R())},[l==null?void 0:l.params]),F.exports.useEffect(()=>{e(q()),e(U()),e(E()),e(P())},[]);const m=async()=>{o(!0),await e(R()),o(!1)},u=a=>{e(Y(a))},z=()=>{var s,x,y;const a=Q();return t("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:n(I,{children:[n(r,{xl:"10",children:[l==null?void 0:l.total," items found costing: $",(y=(x=(s=l==null?void 0:l.cost)==null?void 0:s.cost)==null?void 0:x.toFixed(2))!=null?y:0]}),t(r,{xl:"2",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:t("div",{className:"d-flex align-items-center table-header-actions",children:n(b,{className:"add-new-user",color:"primary",onClick:V=>{V.preventDefault(),a("/inventory-add")},children:[t(ce,{size:14})," Stock"]})})})]})})},j=()=>{var s,x;const a=Number(Math.ceil(l.total/10));return t(Z,{previousLabel:"",nextLabel:"",pageCount:a||1,activeClassName:"active",forcePage:((s=l==null?void 0:l.params)==null?void 0:s.page)!==0?((x=l==null?void 0:l.params)==null?void 0:x.page)-1:0,onPageChange:y=>e(X({page:y.selected+1})),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})};return t("div",{className:"app-user-list",children:n(F.exports.Fragment,{children:[t(H,{className:"px-1",children:n(W,{children:[n(I,{className:"mb-1",children:[t(r,{sm:"3",children:t(A,{options:l==null?void 0:l.routeOptions,placeholder:"Route",value:(f=l==null?void 0:l.routeOptions)==null?void 0:f.find(a=>(a==null?void 0:a.value)==(i==null?void 0:i.route)),onChange:a=>u({route:a==null?void 0:a.value})})}),t(r,{sm:"3",children:t(A,{options:l==null?void 0:l.stationOptions,placeholder:"Station",value:(v=l==null?void 0:l.stationOptions)==null?void 0:v.find(a=>(a==null?void 0:a.value)==(i==null?void 0:i.station)),onChange:a=>u({station:a==null?void 0:a.value})})}),t(r,{sm:"3",children:t(T,{className:"form-control",id:"date",placeholder:"Last Scan Start date",value:(S=i==null?void 0:i.start_date)!=null?S:null,options:{dateFormat:"d-m-Y"},onChange:a=>u({start_date:a[0]})})}),t(r,{sm:"3",children:t(T,{className:"form-control",id:"date",placeholder:"Last Scan End date",value:(d=i==null?void 0:i.end_date)!=null?d:null,options:{dateFormat:"d-m-Y"},onChange:a=>u({end_date:a[0]})})})]}),n(I,{className:"mb-1",children:[t(r,{sm:"2",children:t(k,{placeholder:"User",value:i==null?void 0:i.filter_username,onChange:a=>{var s;return u({filter_username:(s=a==null?void 0:a.target)==null?void 0:s.value})}})}),t(r,{sm:"2",children:t(k,{placeholder:"Batch#",value:i==null?void 0:i.batch,onChange:a=>{var s;return u({batch:(s=a==null?void 0:a.target)==null?void 0:s.value})}})}),t(r,{sm:"2",children:t(A,{options:l==null?void 0:l.statusOptions,placeholder:"Status",value:(_=l==null?void 0:l.statusOptions)==null?void 0:_.find(a=>(a==null?void 0:a.value)==(i==null?void 0:i.status)),onChange:a=>u({status:a==null?void 0:a.value})})}),t(r,{sm:"6",children:t(A,{className:"react-select",options:l==null?void 0:l.storeOptions,placeholder:"Store",isMulti:!0,value:(N=l==null?void 0:l.storeOptions)==null?void 0:N.filter(a=>{var s;return(s=i==null?void 0:i.store)==null?void 0:s.includes(a==null?void 0:a.value)}),onChange:a=>u({store:a==null?void 0:a.map(s=>s==null?void 0:s.value)})})})]}),n(I,{children:[t(r,{sm:"3",children:t(T,{className:"form-control",id:"date",placeholder:"Order Start date",value:(C=i==null?void 0:i.order_start_date)!=null?C:null,options:{dateFormat:"d-m-Y"},onChange:a=>u({order_start_date:a[0]})})}),t(r,{sm:"3",children:t(T,{className:"form-control",id:"date",placeholder:"Order End date",value:(O=i==null?void 0:i.order_end_date)!=null?O:null,options:{dateFormat:"d-m-Y"},onChange:a=>u({order_end_date:a[0]})})}),t(r,{sm:"6",className:"d-flex align-items-end flex-column",children:t(b,{color:"primary",onClick:m,disabled:c,children:c?"Searching":"Search"})})]})]})}),t(H,{className:"overflow-hidden",children:t("div",{className:"react-dataTable",children:t(K,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:ue,customStyles:{cells:{style:{marginTop:25,marginBottom:25}}},sortIcon:t(de,{}),className:"react-dataTable",paginationComponent:j,data:l.data,subHeaderComponent:t(z,{})})})})]})})};export{ke as default};
