import{k as E,r as a,a as F,d5 as I,j as r,f as s,Q as q,S as z,bn as S,V as M,X as m,Y as n,a0 as B,d4 as p,G as Q,L as W,I as u}from"./index.d0de9780.js";import{h as A}from"./moment.4d75c86c.js";import{a as D}from"./App.cc6aa836.js";const R=()=>{var _,c,g;const o=D(),k=E(),[l,t]=a.exports.useState(!0),{listData:i,searchParams:d}=F(e=>e==null?void 0:e.qualityControls);a.exports.useEffect(async()=>{d!=null&&d.station_id?(t(!0),await o(I()),t(!1)):k("/quality-control")},[d==null?void 0:d.station_id]);const Y=async()=>{console.log("A")};return r(a.exports.Fragment,{children:s(q,{children:[r(z,{children:r("h4",{className:"card-title",children:l?s("span",{children:["Please Wait ",r(S,{size:"sm"})]}):(_=i==null?void 0:i.station)==null?void 0:_.station_description})}),s(M,{children:[s(m,{className:"mb-1",children:[r(n,{md:"2",children:r(B,{type:"text",placeholder:"Enter Batch",value:d==null?void 0:d.batch_number,onChange:e=>o(p({batch_number:e.target.value}))})}),r(n,{md:"2",children:r(B,{type:"password",placeholder:"Enter Batch",value:d==null?void 0:d.user_barcode,onChange:e=>o(p({user_barcode:e.target.value}))})}),r(n,{md:"2",children:r(Q,{color:"primary",onClick:Y,disabled:l,children:l?"Please Wait...":"Open Batch"})})]}),((c=i==null?void 0:i.batches)==null?void 0:c.length)>0?s("div",{children:[s(m,{children:[r(n,{md:"2",className:"p-1 border",children:"Batch"}),r(n,{md:"1",className:"p-1 border",children:"First order"}),r(n,{md:"1",className:"p-1 border",children:"Lines"}),r(n,{md:"3",className:"p-1 border",children:"Last Scan"}),r(n,{md:"2",className:"p-1 border"}),r(n,{md:"3",className:"p-1 border"})]}),(g=i==null?void 0:i.batches)==null?void 0:g.map((e,w)=>{var N,f,C,x,y,v,L;return r(W,{onClick:j=>{j.preventDefault(),o(p({batch_number:e==null?void 0:e.batch_number}))},children:s(m,{children:[s(n,{md:"2",className:"p-1 border",children:[e==null?void 0:e.batch_number,(e==null?void 0:e.store)&&s(u,{children:[r("br",{}),(N=e==null?void 0:e.store)==null?void 0:N.store_name]})]}),r(n,{md:"1",className:"p-1 border",children:A(e==null?void 0:e.min_order_date).format("YYYY-MM-DD")}),r(n,{md:"1",className:"p-1 border",children:(f=e==null?void 0:e.items_count)!=null?f:0}),s(n,{md:"3",className:"p-1 border",children:[(e==null?void 0:e.scanned_in)&&((C=e==null?void 0:e.scanned_in)==null?void 0:C.station_id)==(e==null?void 0:e.station_id)&&s(u,{children:[s("strong",{children:["QC in Progress by"," ",(y=(x=e==null?void 0:e.scanned_in)==null?void 0:x.in_user)==null?void 0:y.username]}),r("br",{})]}),e==null?void 0:e.change_date]}),e!=null&&e.first_item?s(u,{children:[r(n,{md:"2",className:"p-1 border",children:r("img",{src:(v=e==null?void 0:e.first_item)==null?void 0:v.item_thumb,width:"70",height:"70"})}),r(n,{md:"3",className:"p-1 border",children:(L=e==null?void 0:e.first_item)==null?void 0:L.item_description})]}):r(n,{md:"5",className:"p-1 border",children:"No Items"})]},w)})})]}):r(m,{children:r(n,{md:"12",children:r("h4",{className:"text-center",children:l?s("span",{children:[r(S,{size:"sm"}),"Data Loading"]}):"No batches in station."})})})]})]})})};export{R as default};
