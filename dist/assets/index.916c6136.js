import{f as l,X as w,Y as o,j as r,L as $,a as q,r as A,bx as U,by as z,bz as G,bA as K,a5 as X,bB as i,Q,a0 as W,G as H,bC as J}from"./index.5c94aa8f.js";/* empty css                  */import{a as V}from"./App.98c84a7f.js";/* empty css                                  */import{F as E}from"./index.3ddf40d7.js";import{R as Z}from"./react-paginate.5f039c77.js";import{S as I}from"./react-select.esm.a71beee1.js";import{h as m}from"./moment.4d75c86c.js";import"./emotion-memoize.esm.06f0e458.js";const aa=(a,n)=>{var p,e,c,F,u,B,h,g,_,f,v,b,N,C,S,k,x,O,t,y,L,D,P,s,d,Y,R,j,M,T;return l(w,{className:"p-1 border",children:[l(o,{sm:"2",children:[r("div",{children:r("u",{children:r("strong",{children:(a==null?void 0:a.order)&&((p=a==null?void 0:a.order)==null?void 0:p.customer)?empty((c=(e=a==null?void 0:a.order)==null?void 0:e.customer)==null?void 0:c.ship_full_name)?(h=(B=a==null?void 0:a.order)==null?void 0:B.customer)==null?void 0:h.bill_full_name:(u=(F=a==null?void 0:a.order)==null?void 0:F.customer)==null?void 0:u.ship_full_name:"CUSTOMER NOT FOUND"})})}),l("div",{children:["Item#",a==null?void 0:a.id]}),r($,{to:`/customer-order-edit/${a==null?void 0:a.order_5p}`,children:r("div",{children:a!=null&&a.order?(g=a==null?void 0:a.order)==null?void 0:g.short_order:"ORDER NOT FOUND"})}),r("div",{children:m((_=a==null?void 0:a.order)==null?void 0:_.order_date).format("YYYY-MM-DD")})]}),r(o,{sm:"2",children:r("img",{src:a==null?void 0:a.item_thumb,height:120})}),l(o,{sm:"2",children:[a==null?void 0:a.item_description,r("br",{}),"SKU: ",a==null?void 0:a.child_sku,r("br",{}),"QTY: ",a==null?void 0:a.item_quantity]}),r(o,{sm:"2",children:a==null?void 0:a.item_option}),r(o,{sm:"2",children:l("div",{children:["Item Status: ",a==null?void 0:a.item_status,(a==null?void 0:a.order)!=null]})}),r(o,{sm:"2",children:r("div",{children:(a==null?void 0:a.item_status)=="shipped"?l("div",{children:[(a==null?void 0:a.shipInfo)&&l("div",{children:[(f=a==null?void 0:a.shipInfo)==null?void 0:f.shipping_id," ",r("br",{})," ",(v=a==null?void 0:a.shipInfo)==null?void 0:v.transaction_datetime]}),(a==null?void 0:a.tracking_number)&&r("div",{children:a==null?void 0:a.tracking_number}),(a==null?void 0:a.order)&&((b=a==null?void 0:a.order)==null?void 0:b.customer)&&l("div",{children:["Ship State: ",(C=(N=a==null?void 0:a.order)==null?void 0:N.customer)==null?void 0:C.ship_state," "]})]}):(a==null?void 0:a.item_status)=="wap"?r("div",{children:a!=null&&a.wap_item?l("div",{children:["WAP Bin ",(k=(S=a==null?void 0:a.wap_item)==null?void 0:S.bin)==null?void 0:k.name," ",r("br",{})," Added:",(x=a==null?void 0:a.wap_item)==null?void 0:x.created_at]}):"WAP - Bin not found"}):(a==null?void 0:a.batch_number)!="0"?l("div",{children:[(a==null?void 0:a.batch)&&l("div",{children:["Status: ",(t=(O=a==null?void 0:a.batch)==null?void 0:O.status)!=null?t:"N/A"," ",r("br",{})," Last Scan:"," ",(L=(y=a==null?void 0:a.batch)==null?void 0:y.change_date)!=null?L:"N/A"]}),(a==null?void 0:a.batch_number)&&l("div",{children:["Batch # ",a==null?void 0:a.batch_number]}),((D=a==null?void 0:a.batch)==null?void 0:D.station)&&l("div",{children:["Station: ",(d=(s=(P=a==null?void 0:a.batch)==null?void 0:P.station)==null?void 0:s.station_name)!=null?d:"N/A"," ",(j=(R=(Y=a==null?void 0:a.batch)==null?void 0:Y.station)==null?void 0:R.station_description)!=null?j:"N/A"]}),l("div",{children:["***Last Scan: ",r("br",{}),(T=(M=a==null?void 0:a.batch)==null?void 0:M.change_date)!=null?T:"N/A"," "]})]}):"Unbatched"})})]})},pa=()=>{var g,_,f,v,b,N,C,S,k,x,O,t,y,L,D,P;const a=V(),n=q(s=>s.itemsList),[p,e]=A.exports.useState(!1),c=n==null?void 0:n.searchParams;A.exports.useEffect(()=>{n!=null&&n.params&&a(U())},[n==null?void 0:n.params]),A.exports.useEffect(()=>{a(z()),a(G()),a(K())},[]);const F=async()=>{e(!0),await a(U()),e(!1)},[u,B]=X();A.exports.useEffect(()=>{if(u){let s={};u==null||u.forEach((d,Y)=>{d!="null"&&(s={...s,[Y]:d})}),h(s)}},[u]);const h=s=>{a(i(s))};return r("div",{className:"app-user-list",children:l(A.exports.Fragment,{children:[l(Q,{className:"p-2",children:[l(w,{className:"mb-1",children:[r(o,{sm:"3",children:r(W,{placeholder:"Search for 1",value:c==null?void 0:c.search_for_first,onChange:s=>{var d;return h({search_for_first:(d=s==null?void 0:s.target)==null?void 0:d.value})}})}),r(o,{sm:"3",children:r(I,{placeholder:"Search in",options:n==null?void 0:n.searchOptions,value:(g=n==null?void 0:n.searchOptions)==null?void 0:g.find(s=>(s==null?void 0:s.value)==(c==null?void 0:c.search_in_first)),onChange:s=>h({search_in_first:s==null?void 0:s.value})})}),r(o,{sm:"3",children:r(W,{placeholder:"Search for 2",value:c==null?void 0:c.search_for_second,onChange:s=>{var d;return h({search_for_second:(d=s==null?void 0:s.target)==null?void 0:d.value})}})}),r(o,{sm:"3",children:r(I,{placeholder:"Search in",options:n==null?void 0:n.searchOptions,value:(_=n==null?void 0:n.searchOptions)==null?void 0:_.find(s=>(s==null?void 0:s.value)==(c==null?void 0:c.search_in_second)),onChange:s=>h({search_in_second:s==null?void 0:s.value})})})]}),l(w,{children:[r(o,{sm:"2",children:r(E,{className:"form-control",id:"date",placeholder:"Start Date",value:(f=c==null?void 0:c.start_date)!=null?f:null,options:{dateFormat:"d-m-Y"},onChange:s=>h({start_date:s[0]})})}),r(o,{sm:"2",children:r(E,{className:"form-control",id:"date",placeholder:"End Date",value:(v=c==null?void 0:c.end_date)!=null?v:null,options:{dateFormat:"d-m-Y"},onChange:s=>h({end_date:s[0]})})}),r(o,{sm:"2",children:r(E,{className:"form-control",id:"date",placeholder:"Tracking Date",value:(b=c==null?void 0:c.tracking_date)!=null?b:null,options:{dateFormat:"d-m-Y"},onChange:s=>h({tracking_date:s[0]})})}),r(o,{sm:"2",children:r(I,{placeholder:"Filter By Status",isMulti:!0,options:n==null?void 0:n.statusOptions,value:(N=n==null?void 0:n.statusOptions)==null?void 0:N.find(s=>(s==null?void 0:s.value)==(c==null?void 0:c.status)),onChange:s=>h({status:s==null?void 0:s.map(d=>d==null?void 0:d.value)})})}),r(o,{sm:"2",children:r(I,{placeholder:"Filter By Store",isMulti:!0,options:n==null?void 0:n.storeOptions,value:(C=n==null?void 0:n.storeOptions)==null?void 0:C.find(s=>(s==null?void 0:s.value)==(c==null?void 0:c.store)),onChange:s=>h({store:s==null?void 0:s.map(d=>d==null?void 0:d.value)})})}),r(o,{sm:"2",className:"d-flex justify-content-center",children:r(H,{color:"primary",onClick:F,disabled:p,children:p?"Searching":"Search"})})]})]}),((S=n==null?void 0:n.data)==null?void 0:S.length)>0&&l(Q,{className:"px-1",children:[l("div",{className:"d-flex justify-content-between",children:[l("div",{className:"m-1",children:[(k=n==null?void 0:n.total)==null?void 0:k.count," Items found"," ",l("small",{children:["(Total Quantity: ",(x=n==null?void 0:n.total)==null?void 0:x.sum,")"]})]}),l("div",{className:"m-1",children:[(O=n==null?void 0:n.total)==null?void 0:O.unassignedProductCount," products need routes /",(t=n==null?void 0:n.total)==null?void 0:t.unassignedOrderCount," unbatched items need routes"]})]}),r(w,{children:(y=n==null?void 0:n.data)==null?void 0:y.map(s=>r(o,{sm:"12",children:aa(s)}))}),r("div",{className:"d-flex justify-content-end",children:r(Z,{nextLabel:"",pageCount:Number(Math.ceil(((L=n==null?void 0:n.total)==null?void 0:L.count)/50)),breakLabel:"...",previousLabel:"",pageRangeDisplayed:5,marginPagesDisplayed:2,forcePage:((D=n==null?void 0:n.params)==null?void 0:D.page)!==0?((P=n==null?void 0:n.params)==null?void 0:P.page)-1:0,onPageChange:s=>a(J({page:s.selected+1})),activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",nextLinkClassName:"page-link",pageLinkClassName:"page-link",nextClassName:"page-item next",breakLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item prev",containerClassName:"pagination react-paginate"})})]})]})})};export{pa as default};
