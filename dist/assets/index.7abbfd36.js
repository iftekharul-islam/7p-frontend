import{k as Q,r as o,a as R,f as l,j as r,Q as A,V as E,X as h,Y as e,a0 as N,da as j,G as b,dd as M,de as $}from"./index.02630f83.js";import{R as T}from"./RejectModal.c6cc9dc4.js";import{S as Y}from"./ShippingPanel.924cefb8.js";import{a as z}from"./App.caee2ce1.js";import"./react-select.esm.401a77d8.js";import"./emotion-memoize.esm.06f0e458.js";const U=()=>{const i=z(),g=Q(),[f,p]=o.exports.useState(!0),{orderData:u,batchData:F,searchParams:d}=R(a=>a==null?void 0:a.qualityControls),{id:C,batch:G,batch_number:y,order:s,items:c,item_options:k,dest:w,thumbs:_,label:H,user:t}=u!=null?u:{},[O,B]=o.exports.useState(null),[x,I]=o.exports.useState(!1),S=()=>I(!x),v=async()=>{var a;if(p(!0),d){const n=await i(M());((a=n==null?void 0:n.payload)==null?void 0:a.status)==206&&m()}else g("/quality-control");p(!1)},m=async()=>{var a;if(p(!0),d){const n=await i($());((a=n==null?void 0:n.payload)==null?void 0:a.status)==206&&v()}else g("/quality-control");p(!1)};o.exports.useEffect(()=>{v()},[]);const q=async()=>{console.log("A")},D=async(a,n)=>{a.preventDefault(),B({item_id:n,id:C,origin:"QC"}),S()};return l(o.exports.Fragment,{children:[r(A,{children:l(E,{children:[l(h,{className:"mb-1",children:[r(e,{md:"2",children:r(N,{type:"text",placeholder:"Enter Batch",value:d==null?void 0:d.batch_number,onChange:a=>{var n;return i(j({batch_number:(n=a==null?void 0:a.target)==null?void 0:n.value}))}})}),r(e,{md:"2",children:r(N,{type:"text",placeholder:"Enter Batch",value:d==null?void 0:d.user_barcode,onChange:a=>{var n;return i(j({user_barcode:(n=a==null?void 0:a.target)==null?void 0:n.value}))}})}),r(e,{md:"2",children:r(b,{color:"primary",onClick:q,disabled:f,children:f?"Please Wait...":"Open Batch"})})]}),l(h,{className:"d-flex justify-content-between mb-2",children:[r(e,{md:"6",children:l("h2",{children:["Order:"," ",r("b",{children:r("a",{href:`/customer-order-edit/${s==null?void 0:s.id}`,target:"_blank",children:s==null?void 0:s.short_order})})]})}),r(e,{md:"6",className:"d-flex justify-content-end",children:l("h2",{children:["Batch:"," ",r("b",{children:r("a",{href:`/batch-list/${y}`,target:"_blank",children:y})})]})})]}),c==null?void 0:c.map((a,n)=>l(h,{className:"border rounded mb-2 p-2",children:[r(e,{md:"8",children:r("h4",{children:r("b",{children:r("a",{href:a==null?void 0:a.item_url,target:"_blank",children:a==null?void 0:a.item_description})})})}),r(e,{md:"2",className:"d-flex justify-content-center",children:r(b,{color:"primary",className:"mr-1",onClick:L=>D(L,a==null?void 0:a.id),children:"Reject Item"})}),r(e,{md:"2",className:"d-flex justify-content-center",children:r(b,{color:"primary",className:"mr-1",children:"Set first-class"})}),r("hr",{}),r(e,{md:"3",children:r("a",{href:a==null?void 0:a.item_url,target:"_blank",children:r("img",{src:a==null?void 0:a.item_thumb,height:"250",width:"250"})})}),l(e,{md:"6",children:[a==null?void 0:a.child_sku,r("br",{}),"Item: ",a==null?void 0:a.id,r("br",{}),(a==null?void 0:a.item_quantity)>1&&l("strong",{style:"font-size: 125%;",children:["QTY: ",a==null?void 0:a.item_quantity]}),r("br",{}),r("div",{className:"mx-2",children:r("div",{dangerouslySetInnerHTML:{__html:k[a==null?void 0:a.id]}})})]}),r(e,{md:"3",children:_[a==null?void 0:a.id]&&r("img",{src:_[a==null?void 0:a.id][0],width:"250",height:"250"})})]})),w=="ship"?l(h,{children:[r(e,{sm:"1"}),r(e,{sm:"8",children:r(Y,{data:u,origin:"QC"})})]}):l(h,{children:[r(e,{md:"8"}),r(e,{md:"4",children:r(b,{color:"primary",className:"mr-1",children:(c==null?void 0:c.length)>1?(c==null?void 0:c.length)+" Lines Approved by "+(t==null?void 0:t.name):"Item Approved by "+(t==null?void 0:t.name)})})]})]})}),r(T,{isOpen:x,toggle:S,data:O})]})};export{U as default};
