import{a as V,r as Y,cx as W,cy as $,f as i,Q as N,j as l,S as k,V as G,X as r,Y as c,G as B,a0 as J,bm as H,L as K,cz as Z,cA as w}from"./index.803a216d.js";/* empty css                  */import{a as u}from"./App.c4275896.js";import{h as q}from"./moment.4d75c86c.js";import{F as X}from"./index.2d265282.js";import{S as m}from"./react-select.esm.ebff1d3e.js";import"./emotion-memoize.esm.06f0e458.js";const nn=()=>{var _,E,S,j,C,T,O,D,U;const p=u(),{data:e,searchParams:t,printerOptions:f,typeOption:b,stationsOptions:v,storeOptions:x}=V(n=>n.printSublimations);console.log("\u{1F680} ~ file: index.js:36 ~ index ~ data:",e==null?void 0:e.batches[0]);const[g,y]=Y.exports.useState(!1),d=n=>{p(Z(n))},z=async()=>{y(!0),await p(w()),y(!1)},P=()=>{console.log("print all")};return Y.exports.useEffect(()=>{p(W()),p($())},[]),i(N,{children:[l(k,{children:l("h4",{children:"Send Graphics to Printer"})}),i(G,{children:[i(r,{className:"mb-1",children:[l(c,{md:"7"}),l(c,{md:"3",children:l(m,{className:"react-select",classNamePrefix:"select",options:f,value:f.find(n=>n.value===(t==null?void 0:t.printer)),onChange:n=>{d({...t,printer:n==null?void 0:n.value})}})}),l(c,{md:"2",children:l(B,{color:"primary",onClick:P,children:"Print All"})})]}),i(N,{className:"border rounded",children:[i(r,{className:"m-1",children:[l(c,{md:"1",children:l(J,{type:"text",placeholder:"Batch Number",value:t==null?void 0:t.select_batch,onChange:n=>{d({...t,select_batch:n.target.value})}})}),l(c,{md:"1",children:l(m,{className:"react-select",classNamePrefix:"select",placeholder:"Type",options:b,value:b.find(n=>n.value===(t==null?void 0:t.type)),onChange:n=>{d({...t,type:n==null?void 0:n.value})}})}),l(c,{md:"3",children:l(m,{className:"react-select",classNamePrefix:"select",placeholder:"Select Section",isMulti:!0,options:v,value:v.filter(n=>{var s;return(s=t==null?void 0:t.section)==null?void 0:s.includes(n.value)}),onChange:n=>{d({...t,section:n==null?void 0:n.map(s=>s.value)})}})}),l(c,{md:"3",children:l(m,{className:"react-select",classNamePrefix:"select",placeholder:"Select Store",isMulti:!0,options:x,value:x.filter(n=>{var s;return(s=t==null?void 0:t.store_id)==null?void 0:s.includes(n.value)}),onChange:n=>{d({...t,store_id:n==null?void 0:n.map(s=>s.value)})}})}),l(c,{md:"2",children:l(X,{className:"form-control",id:"date",placeholder:"From",value:(_=t==null?void 0:t.from_date)!=null?_:null,options:{dateFormat:"d-m-Y"},onChange:n=>d({from_date:n[0]})})}),l(c,{md:"2",children:l(X,{className:"form-control",id:"date",placeholder:"To",value:(E=t==null?void 0:t.to_date)!=null?E:null,options:{dateFormat:"d-m-Y"},onChange:n=>d({to_date:n[0]})})})]}),i(r,{className:"m-1 mt-0",children:[l(c,{md:"11",children:l(m,{className:"react-select",classNamePrefix:"select",placeholder:"Mass set a printer",options:f,value:f.find(n=>n.value===(t==null?void 0:t.set_printer)),onChange:n=>{d({...t,set_printer:n==null?void 0:n.value})}})}),l(c,{md:"1",children:l(B,{color:"primary",onClick:z,disabled:g,children:g?i("span",{className:"d-flex justify-content-center",children:[l(H,{size:"sm"}),"Wait..."]}):"Show"})})]})]}),l(N,{children:g?i("span",{className:"d-flex justify-content-center align-items-center",children:[l("span",{className:"mx-1",children:l(H,{size:"sm"})}),"Data Loading..."]}):i(r,{children:[l(c,{md:"7",children:((S=e==null?void 0:e.batches)==null?void 0:S.length)>0?i("span",{children:[l(r,{children:i("h5",{children:[(j=e==null?void 0:e.batches)==null?void 0:j.length," batches found"]})}),(C=e==null?void 0:e.batches)==null?void 0:C.map((n,s)=>l(r,{className:(n==null?void 0:n.to_printer_date)!=null&&"bg-info",children:l(c,{sm:"2"})},s))]}):((T=e==null?void 0:e.summary)==null?void 0:T.length)>0?i("span",{children:[i(r,{children:[l(c,{md:"6",className:"d-flex justify-content-start",children:l("b",{children:"Production Station"})}),l(c,{md:"3",className:"d-flex justify-content-center",children:l("b",{children:"First order"})}),l(c,{md:"3",className:"d-flex justify-content-end",children:l("b",{children:"Batches"})})]}),(O=e==null?void 0:e.summary)==null?void 0:O.map((n,s)=>{var h;return i("span",{children:[l("hr",{}),i(r,{children:[l(c,{md:"6",className:"d-flex justify-content-start",children:(h=n==null?void 0:n.production_station)==null?void 0:h.station_description}),l(c,{md:"3",className:"d-flex justify-content-center",children:q(n==null?void 0:n.date).format("YYYY-MM-DD")}),l(c,{md:"3",className:"d-flex justify-content-end",children:l(K,{to:"/print-sublimation",children:n==null?void 0:n.count})})]})]},s)}),l("hr",{}),i(r,{children:[l(c,{md:"6"}),l(c,{md:"3",className:"d-flex justify-content-end",children:l("b",{children:"Totol"})}),l(c,{md:"3",className:"d-flex justify-content-end",children:l("b",{children:(D=e==null?void 0:e.summary)==null?void 0:D.reduce((n,s)=>n+(s==null?void 0:s.count),0)})})]})]}):l("span",{className:"d-flex justify-content-center align-items-center",children:"Nothing Found"})}),l(c,{md:"1"}),l(c,{md:"4",children:Array.isArray(e==null?void 0:e.queues)?(U=e==null?void 0:e.queues)==null?void 0:U.map((n,s)=>{var h,F,L,A,R,M,I,Q;return i(N,{className:"mb-1",children:[l(k,{children:l("h5",{children:s.replace("_"," ")+" "+(n==null?void 0:n.TOTAL)})}),i(G,{children:[l("b",{children:"STAGED XML"}),((h=n==null?void 0:n.STAGED_XML)==null?void 0:h.length)>0?(F=n==null?void 0:n.STAGED_XML)==null?void 0:F.map((a,o)=>i("div",{children:[a," ",l("br",{})]},o)):i("div",{children:["Nothing",l("br",{})]}),l("b",{children:"HOT FOLDER"}),((L=n==null?void 0:n.HOT_FOLDER)==null?void 0:L.length)>0?(A=n==null?void 0:n.HOT_FOLDER)==null?void 0:A.map((a,o)=>i("div",{children:[a," ",l("br",{})]},o)):i("div",{children:["Nothing",l("br",{})]}),l("b",{children:"RIP_QUEUE"}),((R=n==null?void 0:n.RIP_QUEUE)==null?void 0:R.length)>0?(M=n==null?void 0:n.RIP_QUEUE)==null?void 0:M.map((a,o)=>i("div",{children:[a," ",l("br",{})]},o)):i("div",{children:["Nothing",l("br",{})]}),l("b",{children:"PRINT_QUEUE"}),((I=n==null?void 0:n.PRINT_QUEUE)==null?void 0:I.length)>0?(Q=n==null?void 0:n.PRINT_QUEUE)==null?void 0:Q.map((a,o)=>i("div",{children:[a," ",l("br",{})]},o)):i("div",{children:["Nothing",l("br",{})]})]})]},nn)}):l("h5",{children:e==null?void 0:e.queues})})]})})]})]})};export{nn as default};
