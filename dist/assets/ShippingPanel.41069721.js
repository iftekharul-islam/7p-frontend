import{k as z,r as q,f as c,X as R,j as l,Y as S,I as J,G as D,$ as f,a0 as v,dh as w,di as K}from"./index.a8647309.js";import{P as Q}from"./plus-circle.07877bd6.js";import{a as Z}from"./App.4b41cec3.js";const es=({data:H,selected:m=[],origin:P="WAP",items:n=null})=>{var o,g,d,M,C,O,X,F,b,y,r,Y,G;console.log("\u{1F680} ~ file: ShippingPanel.js:13 ~ origin:",P);const L=Z();z();const{bin:i,order:s,item_options:ss,thumbs:ls}=H;n||(n=i==null?void 0:i.items);const[e,N]=q.exports.useState([{pounds:0,ounces:0}]),V=()=>{N([...e,{pounds:0,ounces:0}])};let h=null,E=null;const _=JSON.parse(localStorage.getItem("userData")),x={"":"DEFAULT SHIPPING","*":"DEFAULT SHIPPING","MN*":"MANUAL SHIPPING","US*FIRST_CLASS":"USPS FIRST_CLASS","US*PRIORITY":"USPS PRIORITY","US*EXPRESS":"USPS EXPRESS","UP*S_GROUND":"UPS GROUND","UP*S_3DAYSELECT":"UPS 3DAYSELECT","UP*S_AIR_2DAY":"UPS AIR_2DAY","UP*S_AIR_2DAYAM":"UPS AIR_2DAYAM","UP*S_AIR_1DAYSAVER":"UPS AIR_1DAYSAVER","UP*S_AIR_1DAY":"UPS AIR_1DAY","UP*S_SUREPOST":"UPS SUREPOST","FX*_SMART_POST":"FEDEX SMARTPOST","FX*_GROUND_HOME_DELIVERY":"FEDEX GROUND_HOME_DELIVERY","FX*_FEDEX_GROUND":"FEDEX GROUND","FX*_FEDEX_2_DAY":"FEDEX 2_DAY","FX*_FEDEX_EXPRESS_SAVER":"FEDEX EXPRESS_SAVER","FX*_STANDARD_OVERNIGHT":"FEDEX STANDARD_OVERNIGHT","FX*_PRIORITY_OVERNIGHT":"FEDEX PRIORITY_OVERNIGHT","DL*_SMARTMAIL_PARCEL_EXPEDITED_MAX":"DHL SMARTMAIL PARCEL EXPEDITED MAX","DL*_SMARTMAIL_PARCEL_EXPEDITED":"DHL SMARTMAIL PARCEL EXPEDITED","DL*_SMARTMAIL_PARCEL_GROUND":"DHL SMARTMAIL PARCEL GROUND","DL*_SMARTMAIL_PARCEL_PLUS_EXPEDITED":"DHL SMARTMAIL PARCEL PLUS EXPEDITED","DL*_SMARTMAIL_PARCEL_PLUS_GROUND":"DHL SMARTMAIL PARCEL PLUS GROUND","DL*_PARCEL_INTERNATIONAL_DIRECT":"DHL PARCEL INTERNATIONAL DIRECT","EN*USFC":"ENDCIA USPS FIRST CLASS","EN*USPM":"ENDCIA USPS PRIORITY","EN*USCG":"ENDCIA USPS GROUND"};(s==null?void 0:s.store)&&((o=s==null?void 0:s.store)==null?void 0:o.qc)==="0"?(h="success",(s==null?void 0:s.carrier)==="MN"?(E=s==null?void 0:s.method,h="info"):(n==null?void 0:n.length)>1?E=`${n==null?void 0:n.length} Lines Approved by ${_==null?void 0:_.username}`:E=`Approved by ${_==null?void 0:_.username}`,((g=s==null?void 0:s.shippable_items)==null?void 0:g.length)!==(n==null?void 0:n.length)&&(E=`Partial Ship ${E}`,h="primary")):(E="Ship by Supervisor",h="danger");const j=(a,t)=>{a.preventDefault(),L(w(t))},U=(a,t)=>{const{name:A,value:u}=a.target,p=[...e];p[t][A]=u,N(p)},T=async(a,t,A,u,p,W,$)=>{a.preventDefault();const k=e==null?void 0:e.map(I=>I.pounds),B=e==null?void 0:e.map(I=>I.ounces);await L(K({bin:t,order_id:A,origin:u,location:p,count:W,"selected-items-json":$,pounds:k,ounces:B}))};return c(R,{className:"border rounded p-1",children:[(s==null?void 0:s.carrier)!=null&&(s==null?void 0:s.carrier)!=="MN"&&l(S,{sm:"12",className:"panel-header",children:l("h4",{children:l("strong",{children:c("u",{children:["Ship By ",x[(s==null?void 0:s.carrier)+"*"+(s==null?void 0:s.method)]]})})})}),c(R,{className:"panel-body",children:[l(S,{sm:"4",className:"col-xs-12 col-sm-4 col-md-2",children:(s==null?void 0:s.carrier)!=null?c(J,{children:[(s==null?void 0:s.carrier)==="FX"&&l("img",{src:"/assets/images/fedex.jpg",alt:"FedEx"}),(s==null?void 0:s.carrier)==="UP"&&!s.method.includes("MAIL_INNOVATIONS")&&l("img",{src:"/assets/images/ups.jpg",alt:"UPS"}),(s==null?void 0:s.carrier)==="US"&&l("img",{src:"/assets/images/usps.jpg",alt:"USPS"})]}):l("strong",{children:"Ship to:"})}),c(S,{sm:"4",className:"col-xs-12 col-sm-8 col-md-5",children:[l("div",{children:(d=s==null?void 0:s.customer)==null?void 0:d.ship_full_name}),l("div",{children:((M=s==null?void 0:s.customer)==null?void 0:M.ship_company_name)&&((C=s==null?void 0:s.customer)==null?void 0:C.ship_company_name)}),l("div",{children:(O=s==null?void 0:s.customer)==null?void 0:O.ship_address_1}),l("div",{children:((X=s==null?void 0:s.customer)==null?void 0:X.ship_address_2)&&((F=s==null?void 0:s.customer)==null?void 0:F.ship_address_2)}),c("div",{children:[(b=s==null?void 0:s.customer)==null?void 0:b.ship_city,", ",(y=s==null?void 0:s.customer)==null?void 0:y.ship_state," ",(r=s==null?void 0:s.customer)==null?void 0:r.ship_zip]}),l("div",{children:((Y=s==null?void 0:s.customer)==null?void 0:Y.ship_country.substring(0,2))!=="US"&&((G=s==null?void 0:s.customer)==null?void 0:G.ship_country)}),l(D,{color:"primary",size:"sm",className:"btn-xs",onClick:a=>j(a,{order_id:s==null?void 0:s.id}),children:"Bad Address"})]}),c(S,{sm:"4",className:"col-xs-12 col-sm-12 col-md-5",style:{textAlign:"right",padding:0},children:[e==null?void 0:e.map((a,t)=>c(R,{children:[l(S,{sm:"4",children:t==0&&((s==null?void 0:s.carrier)==="US"?l("label",{style:{color:"red"},children:"*Weight:"}):l("label",{children:"Weight:"}))}),c(S,{sm:"4",children:[t==0&&l(f,{children:"lbs"}),l(v,{type:"number",name:"pounds",style:{width:"100px"},min:"0",defaultValue:0,value:a.pounds,onChange:A=>U(A,t)})]}),c(S,{sm:"4",children:[t==0&&l(f,{children:"oz"}),l(v,{type:"number",name:"ounces",style:{width:"100px"},min:"0",defaultValue:0,value:a.ounces,onChange:A=>U(A,t)})]})]})),c(R,{children:[l(S,{sm:"6"}),l(S,{sm:"6",className:"mt-1",children:c(D,{onClick:V,children:[l(Q,{})," Weight"]})})]}),l(R,{children:c(D,{type:"submit",name:"submitButton",value:"fl",className:`pull-right btn btn-lg btn-${h}`,style:{marginTop:"5px"},onClick:a=>T(a,i==null?void 0:i.id,s==null?void 0:s.id,P,"FL",n==null?void 0:n.length,m),children:[E," (FL)"]})}),l(R,{children:c(D,{type:"submit",name:"submitButton",value:"ny",className:"pull-right btn btn-lg btn-warning",style:{marginTop:"5px"},onClick:a=>T(a,i==null?void 0:i.id,s==null?void 0:s.id,P,"NY",n==null?void 0:n.length,m),children:[E," (NY)"]})})]})]})]})};export{es as S};
