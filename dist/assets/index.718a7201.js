import{a as G,r as f,bL as H,j as n,f as t,Q as o,V as c,Y as m,Z as i,a1 as p,G as g,S as K,bM as Q,bN as T}from"./index.5fe5f7df.js";/* empty css                  */import{a as U}from"./App.bc1d8e0c.js";/* empty css                                  */import{h as V}from"./moment.4d75c86c.js";import{S as $}from"./react-select.esm.77870ec9.js";import"./emotion-memoize.esm.06f0e458.js";const ee=()=>{var y,C,S,N,v,k,B,M,P,O,w,D,F;const u=U(),s=G(e=>e.moveBatches),[r,x]=f.exports.useState(!1),l=s==null?void 0:s.searchParams;f.exports.useEffect(()=>{u(H())},[]);const h=async()=>{x(!0),await u(Q()),x(!1)},a=e=>{u(T(e))};return n("div",{className:"app-user-list",children:t(f.exports.Fragment,{children:[n(o,{className:"px-1",children:n(c,{children:t(m,{children:[n(i,{sm:"2"}),n(i,{sm:"3",children:n(p,{placeholder:"Find Batches (Comma Separated)",value:l==null?void 0:l.scan_batches,onChange:e=>{var d;a({scan_batches:(d=e==null?void 0:e.target)==null?void 0:d.value})},onBlur:()=>a({scan_batches:(l==null?void 0:l.scan_batches)+","}),onKeyDown:e=>{(e==null?void 0:e.key)==="Enter"&&a({scan_batches:(l==null?void 0:l.scan_batches)+","})}})}),n(i,{sm:"3",children:n($,{className:"react-select",classNamePrefix:"select",options:s==null?void 0:s.stationOptions,placeholder:"View Batches in Station",value:(y=s==null?void 0:s.stationOptions)==null?void 0:y.find(e=>(e==null?void 0:e.value)==(l==null?void 0:l.station)),onChange:e=>a({station:e==null?void 0:e.value}),isClearable:!0})}),n(i,{sm:"2",className:"d-flex align-items-start flex-column",children:n(g,{color:"primary",onClick:h,disabled:r,children:r?"Please Wait":"Search"})})]})})}),((C=s==null?void 0:s.data)==null?void 0:C.station)&&n(o,{children:n(c,{children:t("h4",{className:"card-title",children:[(N=(S=s==null?void 0:s.data)==null?void 0:S.station)==null?void 0:N.station_name," -"," ",(k=(v=s==null?void 0:s.data)==null?void 0:v.station)==null?void 0:k.station_description," -"," ",(M=(B=s==null?void 0:s.data)==null?void 0:B.batches)==null?void 0:M.length," Active Batch/es Found"]})})}),((O=(P=s==null?void 0:s.data)==null?void 0:P.batches)==null?void 0:O.length)>0?t("span",{children:[n(o,{children:n(c,{children:t(m,{children:[n(i,{sm:"3"}),n(i,{sm:"4",children:n($,{className:"react-select",classNamePrefix:"select",options:s==null?void 0:s.next_in_routeOptions,placeholder:"Select Route (To move to other stations)",value:(w=s==null?void 0:s.next_in_routeOptions)==null?void 0:w.find(e=>(e==null?void 0:e.value)==(l==null?void 0:l.route)),onChange:e=>a({route:e==null?void 0:e.value})})}),n(i,{sm:"2",className:"d-flex align-items-start flex-column",children:n(g,{color:"primary",onClick:h,disabled:r,children:r?"Please Wait":"Filter"})})]})})}),t(o,{children:[n(K,{children:n(g,{color:"primary",onClick:h,disabled:r,children:r?"Please Wait":"Filter"})}),t(c,{children:[t(m,{className:"mb-1",children:[n(i,{sm:"1",children:n(p,{type:"checkbox",checked:(l==null?void 0:l.filter_status)=="1",onChange:e=>{var d;return a({filter_status:(d=e==null?void 0:e.target)!=null&&d.checked?"1":"0"})}})}),n(i,{sm:"1",children:"Select All"}),n(i,{sm:"1",children:"Batch Date"}),n(i,{sm:"2",children:"Min. Order Date"}),n(i,{sm:"2",children:"Station"}),n(i,{sm:"1",children:"Next Station"}),n(i,{sm:"1",children:"Route"}),n(i,{sm:"1",children:"Line"}),n(i,{sm:"2",children:"Image"})]}),(F=(D=s==null?void 0:s.data)==null?void 0:D.batches)==null?void 0:F.map((e,d)=>{var j,A,L,R,W,E;return t(m,{children:[n(i,{sm:"1",children:n(p,{type:"checkbox",checked:(l==null?void 0:l.filter_status)=="1",onChange:_=>{var I;return a({filter_status:(I=_==null?void 0:_.target)!=null&&I.checked?"1":"0"})}})}),t(i,{sm:"1",children:[n("a",{href:"{{ url(sprintf('batches/details/%s',$batch->batch_number )) }}",children:e==null?void 0:e.batch_number}),n("br",{}),(e==null?void 0:e.status.charAt(0).toUpperCase())+(e==null?void 0:e.status.slice(1))]}),n(i,{sm:"1",children:V(e==null?void 0:e.creation_date).format("dd MMM yyyy")}),n(i,{sm:"2",children:V(e==null?void 0:e.min_order_date).format("dd MMM yyyy")}),t(i,{sm:"2",children:[(j=e==null?void 0:e.station)==null?void 0:j.station_name," -"," ",(A=e==null?void 0:e.station)==null?void 0:A.station_description]}),n(i,{sm:"1",children:next_in_route[e==null?void 0:e.batch_route_id]}),n(i,{sm:"1",children:(L=e==null?void 0:e.route)==null?void 0:L.batch_code}),n(i,{sm:"1",children:(R=e==null?void 0:e.itemsCount[0])==null?void 0:R.count}),t(i,{sm:"2",children:[n("img",{src:(W=e==null?void 0:e.first_item)==null?void 0:W.item_thumbnail,width:"70",height:"70"}),(E=e==null?void 0:e.first_item)==null?void 0:E.item_thumb]})]})})]})]})]}):n(o,{children:n(c,{children:n("h4",{className:"d-flex align-items-center justify-content-center",children:"No movable batches found."})})})]})})};export{ee as default};
