import{f as c,j as n,I as L,a as D,r as h,at as Y,au as I,av as R,aw as E,ax as H,Q as q,V as M,Y as u,Z as i,a1 as P,G as T,ay as Q,k as U,az as A}from"./index.b5b6a8d2.js";/* empty css                  *//* empty css                  */import{a as z}from"./App.fda3d641.js";/* empty css                                  */import{Q as G}from"./index.es.a6ec9863.js";import{F as p}from"./index.4c81ce37.js";import{R as K}from"./react-paginate.d51eb14e.js";import{S as g}from"./react-select.esm.c34be573.js";import{h as V}from"./moment.4d75c86c.js";import{C as Z}from"./chevron-down.46497eaa.js";import"./emotion-memoize.esm.06f0e458.js";const $=[{name:"Batch",sortable:!1,minWidth:"100px",sortField:"warehouse",selector:a=>a.warehouse,cell:a=>{var e;return c("div",{children:[n("div",{children:a==null?void 0:a.batch_number}),c("small",{children:[(a==null?void 0:a.status)!=="active"&&c(L,{children:[n("br",{}),"(",(a==null?void 0:a.status.charAt(0).toUpperCase())+(a==null?void 0:a.status.slice(1)),")"]}),(a==null?void 0:a.store)&&c(L,{children:[n("br",{}),(e=a==null?void 0:a.store)==null?void 0:e.store_name]})]})]})}},{name:"First Order",sortable:!1,minWidth:"100px",sortField:"min_order_date",selector:a=>a.min_order_date,cell:a=>n("div",{children:V(a.min_order_date).format("YYYY-MM-DD")})},{name:"Lines",sortable:!1,minWidth:"50px",sortField:"itemsCount",selector:a=>a.itemsCount,cell:a=>{var e;return c("div",{children:[" ",((e=a.items_counts)==null?void 0:e.length)>0&&a.items_counts[0].count]})}},{name:"Current Station",sortable:!1,minWidth:"200px",sortField:"qty_on_hand",selector:a=>a.qty_on_hand,cell:a=>{var e,o;return c("div",{children:[(e=a==null?void 0:a.station)==null?void 0:e.station_name," ",n("br",{})," ",(o=a==null?void 0:a.station)==null?void 0:o.station_description]})}},{name:"Last Scan",sortable:!1,minWidth:"150px",sortField:"change_date",selector:a=>a.change_date,cell:a=>n("div",{children:a==null?void 0:a.change_date})},{name:"Image",sortable:!1,minWidth:"75px",sortField:"qty_alloc",selector:a=>a.qty_alloc,cell:a=>{var e;return n("div",{children:n("img",{src:(e=a==null?void 0:a.first_item)==null?void 0:e.item_thumb,width:"70"})})}},{name:"Child SKU",sortable:!1,minWidth:"120px",sortField:"qty_av",selector:a=>a.qty_av,cell:a=>{var e,o;return n("div",{children:(o=(e=a==null?void 0:a.first_item)==null?void 0:e.child_sku)!=null?o:"No Items"})}}],oe=()=>{var v,_,C,x,b,N,S,y,F;const a=z(),e=D(t=>t.batchList),[o,f]=h.exports.useState(!1),l=e==null?void 0:e.searchParams;h.exports.useEffect(()=>{e!=null&&e.params&&a(Y())},[e==null?void 0:e.params]),h.exports.useEffect(()=>{a(I()),a(R()),a(E()),a(H())},[]);const W=async()=>{f(!0),await a(Y()),f(!1)},d=t=>{a(Q(t))},j=()=>{var t,s,r,m,O,k;return U(),n("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:c(u,{children:[c(i,{xl:"10",children:["(",(s=(t=e==null?void 0:e.data)==null?void 0:t.total)!=null?s:0," Batches Found ) Total lines :",(m=(r=e==null?void 0:e.cost)==null?void 0:r.count)!=null?m:0," quantity :",(k=(O=e==null?void 0:e.cost)==null?void 0:O.quantity)!=null?k:0]}),n(i,{xl:"2",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:n("div",{className:"d-flex align-items-center table-header-actions"})})]})})},B=()=>{var s,r;const t=Number(Math.ceil(e.total/10));return n(K,{previousLabel:"",nextLabel:"",pageCount:t||1,activeClassName:"active",forcePage:((s=e==null?void 0:e.params)==null?void 0:s.page)!==0?((r=e==null?void 0:e.params)==null?void 0:r.page)-1:0,onPageChange:m=>a(A({page:m.selected+1})),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})};return n("div",{className:"app-user-list",children:c(h.exports.Fragment,{children:[n(q,{className:"px-1",children:c(M,{children:[c(u,{className:"mb-1",children:[n(i,{sm:"3",children:n(g,{options:e==null?void 0:e.routeOptions,placeholder:"Route",value:(v=e==null?void 0:e.routeOptions)==null?void 0:v.find(t=>(t==null?void 0:t.value)==(l==null?void 0:l.route)),onChange:t=>d({route:t==null?void 0:t.value})})}),n(i,{sm:"3",children:n(g,{options:e==null?void 0:e.stationOptions,placeholder:"Station",value:(_=e==null?void 0:e.stationOptions)==null?void 0:_.find(t=>(t==null?void 0:t.value)==(l==null?void 0:l.station)),onChange:t=>d({station:t==null?void 0:t.value})})}),n(i,{sm:"3",children:n(p,{className:"form-control",id:"date",placeholder:"Last Scan Start date",value:(C=l==null?void 0:l.start_date)!=null?C:null,options:{dateFormat:"d-m-Y"},onChange:t=>d({start_date:t[0]})})}),n(i,{sm:"3",children:n(p,{className:"form-control",id:"date",placeholder:"Last Scan End date",value:(x=l==null?void 0:l.end_date)!=null?x:null,options:{dateFormat:"d-m-Y"},onChange:t=>d({end_date:t[0]})})})]}),c(u,{className:"mb-1",children:[n(i,{sm:"2",children:n(P,{placeholder:"User",value:l==null?void 0:l.filter_username,onChange:t=>{var s;return d({filter_username:(s=t==null?void 0:t.target)==null?void 0:s.value})}})}),n(i,{sm:"2",children:n(P,{placeholder:"Batch#",value:l==null?void 0:l.batch,onChange:t=>{var s;return d({batch:(s=t==null?void 0:t.target)==null?void 0:s.value})}})}),n(i,{sm:"2",children:n(g,{options:e==null?void 0:e.statusOptions,placeholder:"Status",value:(b=e==null?void 0:e.statusOptions)==null?void 0:b.find(t=>(t==null?void 0:t.value)==(l==null?void 0:l.status)),onChange:t=>d({status:t==null?void 0:t.value})})}),n(i,{sm:"6",children:n(g,{className:"react-select",options:e==null?void 0:e.storeOptions,placeholder:"Store",isMulti:!0,value:(N=e==null?void 0:e.storeOptions)==null?void 0:N.filter(t=>{var s;return(s=l==null?void 0:l.store)==null?void 0:s.includes(t==null?void 0:t.value)}),onChange:t=>d({store:t==null?void 0:t.map(s=>s==null?void 0:s.value)})})})]}),c(u,{children:[n(i,{sm:"3",children:n(p,{className:"form-control",id:"date",placeholder:"Order Start date",value:(S=l==null?void 0:l.order_start_date)!=null?S:null,options:{dateFormat:"d-m-Y"},onChange:t=>d({order_start_date:t[0]})})}),n(i,{sm:"3",children:n(p,{className:"form-control",id:"date",placeholder:"Order End date",value:(y=l==null?void 0:l.order_end_date)!=null?y:null,options:{dateFormat:"d-m-Y"},onChange:t=>d({order_end_date:t[0]})})}),n(i,{sm:"6",className:"d-flex align-items-end flex-column",children:n(T,{color:"primary",onClick:W,disabled:o,children:o?"Searching":"Search"})})]})]})}),n(q,{className:"overflow-hidden",children:n("div",{className:"react-dataTable",children:n(G,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:$,customStyles:{cells:{style:{marginTop:25,marginBottom:25}}},sortIcon:n(Z,{}),className:"react-dataTable",paginationComponent:B,data:(F=e==null?void 0:e.data)==null?void 0:F.data,subHeaderComponent:n(j,{})})})})]})})};export{oe as default};
