import{k as J,r as y,a as K,eR as U,j as r,f as s,Q as Z,S as i,V as n,X as h,Y as d,G as X,a0 as b,L as p,bo as ee,eS as re,eT as de}from"./index.a2df5817.js";/* empty css                  */import{a as te}from"./App.837def71.js";import{h as j}from"./moment.4d75c86c.js";import{F as ae}from"./index.e0dc5fbd.js";const he=()=>{var R,L,M;const w=te(),q=J(),[_,C]=y.exports.useState(!1),{data:a,searchParams:o}=K(e=>e.WAP);y.exports.useEffect(()=>{B()},[]);const S=async(e,l,m)=>{e.preventDefault(),C(!0);const c=await w(re({[m]:l}));c!=null&&c.payload&&q("/wap/bin"),C(!1)},B=async()=>{C(!0),await w(U()),C(!1)},O=e=>{w(de(e))};return r(y.exports.Fragment,{children:s(Z,{children:[r(i,{children:r("h4",{className:"card-title",children:"WAP"})}),s(n,{children:[s(h,{className:"mb-1",children:[r(d,{md:"1"}),r(d,{md:"2",children:r(ae,{className:"form-control",options:{dateFormat:"Y-m-d"},value:o==null?void 0:o.end_date,onChange:e=>{O({end_date:e[0]})},placeholder:"Older Than"})}),r(d,{md:"2",children:r(X,{color:"primary",onClick:B,disabled:_,children:_?"Please Wait...":"Search by Date"})}),r(d,{md:"2"}),r(d,{md:"2",children:r(b,{type:"text",name:"order_id",placeholder:"Scan Label",value:o==null?void 0:o.order_id,onChange:e=>{var l;return O({order_id:(l=e==null?void 0:e.target)==null?void 0:l.value})}})}),r(d,{md:"2",children:r(X,{color:"primary",onClick:e=>S(e,o==null?void 0:o.order_id,"order_id"),disabled:_,children:_?"Please Wait...":"Open Bin"})})]}),((R=a==null?void 0:a.bins)==null?void 0:R.length)>0?s("div",{children:[s(h,{children:[r(d,{md:"1",className:"p-1 border",children:r("b",{children:"Bin"})}),r(d,{md:"1",className:"p-1 border",children:r("b",{children:" Status "})}),r(d,{md:"2",className:"p-1 border",children:r("b",{children:" Last Item Added "})}),r(d,{md:"2",className:"p-1 border",children:r("b",{children:" Store Order"})}),r(d,{md:"1",className:"p-1 border",children:r("b",{children:" Order Date"})}),r(d,{md:"1",className:"p-1 border",children:r("b",{children:" In Order"})}),r(d,{md:"1",className:"p-1 border",children:r("b",{children:" In Bin"})}),r(d,{md:"1",className:"p-1 border",children:r("b",{children:" Rejected"})}),r(d,{md:"2",className:"p-1 border",children:r("b",{children:" Backorder"})})]}),(L=a==null?void 0:a.sorted_bins)==null?void 0:L.map((e,l)=>{var m,c,u,N,g,f,D,k,Y,x;if(((c=(m=e==null?void 0:e.order)==null?void 0:m.shippable_items)==null?void 0:c.length)==(e==null?void 0:e.item_count)&&(((u=e==null?void 0:e.order)==null?void 0:u.order_status)==4||((N=e==null?void 0:e.order)==null?void 0:N.order_status)==9))return s(h,{children:[r(d,{md:"1",className:"p-1 border",children:r(p,{onClick:v=>S(v,e==null?void 0:e.id,"bin"),children:e==null?void 0:e.name})}),r(d,{md:"1",className:"p-1 border text-danger",children:"Ready to Ship"}),r(d,{md:"2",className:"p-1 border",children:e==null?void 0:e.last}),s(d,{md:"2",className:"p-1 border",children:[r(p,{to:`/customer-order-edit/${e==null?void 0:e.order_id}`,children:(g=e==null?void 0:e.order)==null?void 0:g.short_order}),((f=e==null?void 0:e.order)==null?void 0:f.store_id)!="52053152"&&r("div",{children:(D=e==null?void 0:e.order)==null?void 0:D.store_name})]}),r(d,{md:"1",className:"p-1 border",children:j((k=e==null?void 0:e.order)==null?void 0:k.order_date).format("YYYY-MM-DD")}),r(d,{md:"1",className:"p-1 border",children:(x=(Y=e==null?void 0:e.order)==null?void 0:Y.shippable_items)==null?void 0:x.length}),r(d,{md:"1",className:"p-1 border",children:e==null?void 0:e.item_count})]},l)}),(M=a==null?void 0:a.bins)==null?void 0:M.map((e,l)=>{var m,c,u,N,g,f,D,k,Y,x,v,A,F,I,W,T,$,E,z,G,H,P,Q;if(((c=(m=e==null?void 0:e.order)==null?void 0:m.shippable_items)==null?void 0:c.length)>(e==null?void 0:e.item_count)&&(((u=e==null?void 0:e.order)==null?void 0:u.order_status)!=4||((N=e==null?void 0:e.order)==null?void 0:N.order_status)!=9))return s(h,{children:[r(d,{md:"1",className:"p-1 border",children:r(p,{onClick:t=>S(t,e==null?void 0:e.id,"bin"),children:e==null?void 0:e.name})}),r(d,{md:"1",className:"p-1 border text-danger",children:((g=e==null?void 0:e.order)==null?void 0:g.order_status)==4||((f=e==null?void 0:e.order)==null?void 0:f.order_status)==9?"Incomplete":(k=(D=a==null?void 0:a.status)==null?void 0:D.find(t=>{var V;return(t==null?void 0:t.id)==((V=e==null?void 0:e.order)==null?void 0:V.order_status)}))==null?void 0:k.label}),r(d,{md:"2",className:"p-1 border",children:e==null?void 0:e.last}),s(d,{md:"2",className:"p-1 border",children:[r(p,{to:`/customer-order-edit/${e==null?void 0:e.order_id}`,children:(Y=e==null?void 0:e.order)==null?void 0:Y.short_order}),((x=e==null?void 0:e.order)==null?void 0:x.store_id)!="52053152"&&r("div",{children:(v=e==null?void 0:e.order)==null?void 0:v.store_name})]}),r(d,{md:"1",className:new Date((A=e==null?void 0:e.order)==null?void 0:A.order_date).getTime()<new Date().setDate(new Date().getDate()-7)?"p-1 border":"p-1 border text-danger",children:j((F=e==null?void 0:e.order)==null?void 0:F.order_date).format("YYYY-MM-DD")}),r(d,{md:"1",className:"p-1 border",children:(W=(I=e==null?void 0:e.order)==null?void 0:I.shippable_items)==null?void 0:W.length}),r(d,{md:"1",className:"p-1 border",children:e==null?void 0:e.item_count}),r(d,{md:"1",className:"p-1 border",children:e.order.items.filter(t=>t.item_status==="rejected").length>0&&e.order.items.filter(t=>t.item_status==="rejected").length}),r(d,{md:"2",className:"p-1 border",children:e.order.items.filter(t=>t.item_status==="back order").length>0&&e.order.items.filter(t=>t.item_status==="back order").length})]},l);if((($=(T=e==null?void 0:e.order)==null?void 0:T.shippable_items)==null?void 0:$.length)<(e==null?void 0:e.item_count))return s(h,{children:[r(d,{md:"1",className:"p-1 border",children:r(p,{onClick:t=>S(t,e==null?void 0:e.id,"bin"),children:e==null?void 0:e.name})}),r(d,{md:"1",className:"p-1 border",children:"ERROR"}),r(d,{md:"2",className:"p-1 border"}),s(d,{md:"2",className:"p-1 border",children:[r(p,{to:`/customer-order-edit/${e==null?void 0:e.order_id}`,children:e==null?void 0:e.order_id}),((E=e==null?void 0:e.order)==null?void 0:E.store_id)!="52053152"&&r("div",{children:(z=e==null?void 0:e.order)==null?void 0:z.store_name})]}),r(d,{md:"1",className:new Date((G=e==null?void 0:e.order)==null?void 0:G.order_date).getTime()<new Date().setDate(new Date().getDate()-7)?"p-1 border":"p-1 border text-danger",children:j((H=e==null?void 0:e.order)==null?void 0:H.order_date).format("YYYY-MM-DD")}),r(d,{md:"1",className:"p-1 border",children:(Q=(P=e==null?void 0:e.order)==null?void 0:P.shippable_items)==null?void 0:Q.length}),r(d,{md:"1",className:"p-1 border",children:e==null?void 0:e.item_count}),r(d,{md:"1",className:"p-1 border",children:e.order.items.filter(t=>t.item_status==="rejected").length>0&&e.order.items.filter(t=>t.item_status==="rejected").length}),r(d,{md:"2",className:"p-1 border",children:e.order.items.filter(t=>t.item_status==="back order").length>0&&e.order.items.filter(t=>t.item_status==="back order").length})]},l)})]}):r(h,{children:r(d,{md:"12",children:r("h4",{className:"text-center",children:_?s("span",{children:[r(ee,{size:"sm"}),"Data Loading"]}):"No Data Found"})})})]})]})})};export{he as default};
