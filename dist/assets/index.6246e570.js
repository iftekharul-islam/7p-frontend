import{f as l,Y as I,Z as o,j as r,L as W,a as $,r as P,bC as U,bD as q,bE as G,bF as K,a6 as Z,bG as i,S as H,a1 as Q,H as z,bH as J}from"./index.b5767533.js";/* empty css                  */import{a as V}from"./App.bf73fcbb.js";/* empty css                                  */import{F as R}from"./index.9962df18.js";import{R as X}from"./react-paginate.ed1de574.js";import{S as E}from"./react-select.esm.97e349dc.js";import{h as m}from"./moment.4d75c86c.js";import"./emotion-memoize.esm.06f0e458.js";const aa=(a,n)=>{var p,e,c,A,u,w,h,g,_,f,v,b,N,C,S,k,O,x,t,D,L,y,F,s,d,Y,j,B,M,T;return l(I,{className:"p-1 border",children:[l(o,{sm:"2",children:[r("div",{children:r("u",{children:r("strong",{children:(a==null?void 0:a.order)&&((p=a==null?void 0:a.order)==null?void 0:p.customer)?empty((c=(e=a==null?void 0:a.order)==null?void 0:e.customer)==null?void 0:c.ship_full_name)?(h=(w=a==null?void 0:a.order)==null?void 0:w.customer)==null?void 0:h.bill_full_name:(u=(A=a==null?void 0:a.order)==null?void 0:A.customer)==null?void 0:u.ship_full_name:"CUSTOMER NOT FOUND"})})}),l("div",{children:["Item#",a==null?void 0:a.id]}),r(W,{to:`/customer-order-edit/${a==null?void 0:a.order_5p}`,children:r("div",{children:a!=null&&a.order?(g=a==null?void 0:a.order)==null?void 0:g.short_order:"ORDER NOT FOUND"})}),r("div",{children:m((_=a==null?void 0:a.order)==null?void 0:_.order_date).format("YYYY-MM-DD")})]}),r(o,{sm:"2",children:r("img",{src:a==null?void 0:a.item_thumb,height:120})}),l(o,{sm:"2",children:[a==null?void 0:a.item_description,r("br",{}),"SKU: ",a==null?void 0:a.child_sku,r("br",{}),"QTY: ",a==null?void 0:a.item_quantity]}),r(o,{sm:"2",children:a==null?void 0:a.item_option}),r(o,{sm:"2",children:l("div",{children:["Item Status: ",a==null?void 0:a.item_status,(a==null?void 0:a.order)!=null]})}),r(o,{sm:"2",children:r("div",{children:(a==null?void 0:a.item_status)=="shipped"?l("div",{children:[(a==null?void 0:a.shipInfo)&&l("div",{children:[(f=a==null?void 0:a.shipInfo)==null?void 0:f.shipping_id," ",r("br",{})," ",(v=a==null?void 0:a.shipInfo)==null?void 0:v.transaction_datetime]}),(a==null?void 0:a.tracking_number)&&r("div",{children:a==null?void 0:a.tracking_number}),(a==null?void 0:a.order)&&((b=a==null?void 0:a.order)==null?void 0:b.customer)&&l("div",{children:["Ship State: ",(C=(N=a==null?void 0:a.order)==null?void 0:N.customer)==null?void 0:C.ship_state," "]})]}):(a==null?void 0:a.item_status)=="wap"?r("div",{children:a!=null&&a.wap_item?l("div",{children:["WAP Bin ",(k=(S=a==null?void 0:a.wap_item)==null?void 0:S.bin)==null?void 0:k.name," ",r("br",{})," Added:",(O=a==null?void 0:a.wap_item)==null?void 0:O.created_at]}):"WAP - Bin not found"}):(a==null?void 0:a.batch_number)!="0"?l("div",{children:[(a==null?void 0:a.batch)&&l("div",{children:["Status: ",(t=(x=a==null?void 0:a.batch)==null?void 0:x.status)!=null?t:"N/A"," ",r("br",{})," Last Scan:"," ",(L=(D=a==null?void 0:a.batch)==null?void 0:D.change_date)!=null?L:"N/A"]}),(a==null?void 0:a.batch_number)&&l("div",{children:["Batch # ",a==null?void 0:a.batch_number]}),((y=a==null?void 0:a.batch)==null?void 0:y.station)&&l("div",{children:["Station: ",(d=(s=(F=a==null?void 0:a.batch)==null?void 0:F.station)==null?void 0:s.station_name)!=null?d:"N/A"," ",(B=(j=(Y=a==null?void 0:a.batch)==null?void 0:Y.station)==null?void 0:j.station_description)!=null?B:"N/A"]}),l("div",{children:["***Last Scan: ",r("br",{}),(T=(M=a==null?void 0:a.batch)==null?void 0:M.change_date)!=null?T:"N/A"," "]})]}):"Unbatched"})})]})},pa=()=>{var g,_,f,v,b,N,C,S,k,O,x,t,D,L,y,F;const a=V(),n=$(s=>s.itemsList),[p,e]=P.exports.useState(!1),c=n==null?void 0:n.searchParams;P.exports.useEffect(()=>{n!=null&&n.params&&a(U())},[n==null?void 0:n.params]),P.exports.useEffect(()=>{a(q()),a(G()),a(K())},[]);const A=async()=>{e(!0),await a(U()),e(!1)},[u,w]=Z();P.exports.useEffect(()=>{if(u){let s={};u==null||u.forEach((d,Y)=>{d!="null"&&(s={...s,[Y]:d})}),h(s)}},[u]);const h=s=>{a(i(s))};return r("div",{className:"app-user-list",children:l(P.exports.Fragment,{children:[l(H,{className:"p-2",children:[l(I,{className:"mb-1",children:[r(o,{sm:"3",children:r(Q,{placeholder:"Search for 1",value:c==null?void 0:c.search_for_first,onChange:s=>{var d;return h({search_for_first:(d=s==null?void 0:s.target)==null?void 0:d.value})}})}),r(o,{sm:"3",children:r(E,{placeholder:"Search in",options:n==null?void 0:n.searchOptions,value:(g=n==null?void 0:n.searchOptions)==null?void 0:g.find(s=>(s==null?void 0:s.value)==(c==null?void 0:c.search_in_first)),onChange:s=>h({search_in_first:s==null?void 0:s.value})})}),r(o,{sm:"3",children:r(Q,{placeholder:"Search for 2",value:c==null?void 0:c.search_for_second,onChange:s=>{var d;return h({search_for_second:(d=s==null?void 0:s.target)==null?void 0:d.value})}})}),r(o,{sm:"3",children:r(E,{placeholder:"Search in",options:n==null?void 0:n.searchOptions,value:(_=n==null?void 0:n.searchOptions)==null?void 0:_.find(s=>(s==null?void 0:s.value)==(c==null?void 0:c.search_in_second)),onChange:s=>h({search_in_second:s==null?void 0:s.value})})})]}),l(I,{children:[r(o,{sm:"2",children:r(R,{className:"form-control",id:"date",placeholder:"Start Date",value:(f=c==null?void 0:c.start_date)!=null?f:null,options:{dateFormat:"d-m-Y"},onChange:s=>h({start_date:s[0]})})}),r(o,{sm:"2",children:r(R,{className:"form-control",id:"date",placeholder:"End Date",value:(v=c==null?void 0:c.end_date)!=null?v:null,options:{dateFormat:"d-m-Y"},onChange:s=>h({end_date:s[0]})})}),r(o,{sm:"2",children:r(R,{className:"form-control",id:"date",placeholder:"Tracking Date",value:(b=c==null?void 0:c.tracking_date)!=null?b:null,options:{dateFormat:"d-m-Y"},onChange:s=>h({tracking_date:s[0]})})}),r(o,{sm:"2",children:r(E,{placeholder:"Filter By Status",isMulti:!0,options:n==null?void 0:n.statusOptions,value:(N=n==null?void 0:n.statusOptions)==null?void 0:N.find(s=>(s==null?void 0:s.value)==(c==null?void 0:c.status)),onChange:s=>h({status:s==null?void 0:s.map(d=>d==null?void 0:d.value)})})}),r(o,{sm:"2",children:r(E,{placeholder:"Filter By Store",isMulti:!0,options:n==null?void 0:n.storeOptions,value:(C=n==null?void 0:n.storeOptions)==null?void 0:C.find(s=>(s==null?void 0:s.value)==(c==null?void 0:c.store)),onChange:s=>h({store:s==null?void 0:s.map(d=>d==null?void 0:d.value)})})}),r(o,{sm:"2",className:"d-flex justify-content-center",children:r(z,{color:"primary",onClick:A,disabled:p,children:p?"Searching":"Search"})})]})]}),((S=n==null?void 0:n.data)==null?void 0:S.length)>0&&l(H,{className:"px-1",children:[l("div",{className:"d-flex justify-content-between",children:[l("div",{className:"m-1",children:[(k=n==null?void 0:n.total)==null?void 0:k.count," Items found"," ",l("small",{children:["(Total Quantity: ",(O=n==null?void 0:n.total)==null?void 0:O.sum,")"]})]}),l("div",{className:"m-1",children:[(x=n==null?void 0:n.total)==null?void 0:x.unassignedProductCount," products need routes /",(t=n==null?void 0:n.total)==null?void 0:t.unassignedOrderCount," unbatched items need routes"]})]}),r(I,{children:(D=n==null?void 0:n.data)==null?void 0:D.map(s=>r(o,{sm:"12",children:aa(s)}))}),r("div",{className:"d-flex justify-content-end",children:r(X,{nextLabel:"",pageCount:Number(Math.ceil(((L=n==null?void 0:n.total)==null?void 0:L.count)/50)),breakLabel:"...",previousLabel:"",pageRangeDisplayed:5,marginPagesDisplayed:2,forcePage:((y=n==null?void 0:n.params)==null?void 0:y.page)!==0?((F=n==null?void 0:n.params)==null?void 0:F.page)-1:0,onPageChange:s=>a(J({page:s.selected+1})),activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",nextLinkClassName:"page-link",pageLinkClassName:"page-link",nextClassName:"page-item next",breakLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item prev",containerClassName:"pagination react-paginate"})})]})]})})};export{pa as default};
