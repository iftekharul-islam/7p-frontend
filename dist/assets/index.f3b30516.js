import{aG as J,r as v,k as M,a as W,de as Y,j as e,Y as m,$,Z as d,f as i,S as A,T as X,V as ee,W as L,J as O,a0 as u,a1 as p,H as ne,bw as re,dg as de}from"./index.b5767533.js";import{R as ce,s as ie}from"./slidedown.14f32b4d.js";/* empty css                  */import{F as te}from"./index.9962df18.js";import{a as le}from"./App.bf73fcbb.js";const me=()=>{var N,S,j,k,w,q,R,C,D,P,F,B;const{id:z}=J(),[r,H]=v.exports.useState(),[f,_]=v.exports.useState(!1),[c,x]=v.exports.useState([{}]),[ae,I]=v.exports.useState(null),g=le(),Z=M(),o=W(n=>n.purchaseOrders),b=(n,a,s)=>{const l=c==null?void 0:c.map((t,y)=>s===y?(n="new_received")?{...t,new_received:a,balance_quantity:(t==null?void 0:t.quantity)-(t==null?void 0:t.receive_quantity)-a}:{...t,[n]:a}:t);x(l)};v.exports.useEffect(()=>{g(Y(z))},[]),v.exports.useEffect(()=>{var a,s;H(o==null?void 0:o.order);const n=(s=(a=o==null?void 0:o.order)==null?void 0:a.products)==null?void 0:s.map(l=>{var t;return{...l,receive_date:(t=l==null?void 0:l.receive_date)!=null?t:new Date,new_received:0}});x(n)},[o==null?void 0:o.order]);const G=async()=>{var a,s,l;_(!0);const n=await g(de(c));(a=n==null?void 0:n.payload)!=null&&a.status?Z("/purchase-order"):I((l=(s=n==null?void 0:n.payload)==null?void 0:s.data)==null?void 0:l.errors),_(!1)};return e(v.exports.Fragment,{children:e(m,{children:e($,{children:e(d,{sm:"12",children:i(A,{children:[e(X,{children:i(ee,{tag:"h4",children:["Receive Purchase Product- ",r==null?void 0:r.po_number]})}),i(L,{children:[i(m,{children:[e(d,{sm:"5",children:i(m,{children:[i(d,{sm:"4",children:[e("div",{children:"Vendor Name"}),e("div",{children:"Vendor Email"}),e("div",{children:"Phone Number"}),e("div",{children:"Zip Code"})]}),i(d,{sm:"1",children:[e("div",{children:":"}),e("div",{children:":"}),e("div",{children:":"}),e("div",{children:":"})]}),i(d,{sm:"7",children:[e("div",{children:(S=(N=r==null?void 0:r.vendor)==null?void 0:N.vendor_name)!=null?S:"--"}),e("div",{children:(k=(j=r==null?void 0:r.vendor)==null?void 0:j.email)!=null?k:"--"}),e("div",{children:(q=(w=r==null?void 0:r.vendor)==null?void 0:w.phone_number)!=null?q:"--"}),e("div",{children:(C=(R=r==null?void 0:r.vendor)==null?void 0:R.zip_code)!=null?C:"--"})]})]})}),i(d,{sm:"2",children:[e("div",{children:"|"}),e("div",{children:"|"}),e("div",{children:"|"}),e("div",{children:"|"})]}),e(d,{sm:"5",children:i(m,{children:[i(d,{sm:"4",children:[e("div",{children:"Date"}),e("div",{children:"Payment Method"}),e("div",{children:"Tracking"}),e("div",{children:"Notes"})]}),i(d,{sm:"1",children:[e("div",{children:":"}),e("div",{children:":"}),e("div",{children:":"}),e("div",{children:":"})]}),i(d,{sm:"7",children:[e("div",{children:(D=r==null?void 0:r.po_date)!=null?D:"--"}),e("div",{children:(P=r==null?void 0:r.payment_method)!=null?P:"--"}),e("div",{children:(F=r==null?void 0:r.tracking)!=null?F:"--"}),e("div",{children:(B=r==null?void 0:r.notes)!=null?B:"--"})]})]})})]}),(c==null?void 0:c.length)>0&&i(O,{children:[e("hr",{}),i(L,{children:[i(m,{className:"justify-content-between align-items-center",children:[e(d,{sm:"2",className:"d-flex justify-content-center",children:e(u,{children:"Vendor SKU"})}),e(d,{sm:"1",className:"d-flex justify-content-center",children:e(u,{children:"Stock#"})}),e(d,{sm:"3",className:"d-flex justify-content-center",children:e(u,{children:"SKU"})}),e(d,{sm:"1",className:"d-flex justify-content-center",children:e(u,{children:"Quantity"})}),e(d,{sm:"2",className:"d-flex justify-content-center",children:e(u,{children:"Received Date"})}),e(d,{sm:"1",className:"d-flex justify-content-center",children:e(u,{children:"Quantity Received"})}),e(d,{sm:"1",className:"d-flex justify-content-center",children:e(u,{children:"Previously Received"})}),e(d,{sm:"1",className:"d-flex justify-content-center",children:e(u,{children:"Balance"})})]}),e(ce,{count:c==null?void 0:c.length,children:n=>{var s,l,t,y,E,K,Q,T;const a=n===0?"div":ie.SlideDown;return e(a,{children:e($,{children:i(m,{className:`justify-content-between align-items-center mt-${n==0?"0":"1"}`,children:[e(d,{sm:"2",children:e(p,{type:"text",name:"vendor_sku",id:"vendor_sku",placeholder:"SKU",value:(s=c[n])==null?void 0:s.vendor_sku,disabled:!0})}),e(d,{sm:"1",children:e(p,{type:"text",name:"stock_no",id:"stock_no",placeholder:"Stock",value:(l=c[n])==null?void 0:l.stock_no,disabled:!0})}),e(d,{sm:"3",children:e(p,{type:"text",name:"vendor_sku_name",id:"vendor_sku_name",placeholder:"SKU",value:(t=c[n])==null?void 0:t.vendor_sku_name,disabled:!0})}),e(d,{sm:"1",children:e(p,{type:"text",name:"quantity",id:"quantity",placeholder:"Quantity",value:(y=c[n])==null?void 0:y.quantity,disabled:!0})}),e(d,{sm:"2",children:e(te,{className:"form-control",id:"receive_date",name:"receive_date",placeholder:"Receive Date",value:(E=c[n])==null?void 0:E.receive_date,onChange:h=>b("receive_date",h,n)})}),e(d,{sm:"1",children:e(p,{type:"number",name:"new_received",id:"new_received",placeholder:"Quantity Received",value:(K=c[n])==null?void 0:K.new_received,onChange:h=>{var U,V;return b((U=h==null?void 0:h.target)==null?void 0:U.name,(V=h==null?void 0:h.target)==null?void 0:V.value,n)}})}),e(d,{sm:"1",children:e(p,{type:"text",name:"receive_quantity",id:"receive_quantity",placeholder:"Previously Received",value:(Q=c[n])==null?void 0:Q.receive_quantity,disabled:!0})}),e(d,{sm:"1",children:e(p,{type:"text",name:"balance_quantity",id:"balance_quantity",placeholder:"Balance",value:(T=c[n])==null?void 0:T.balance_quantity,disabled:!0})})]})})},n)}})]}),e("hr",{}),e(m,{children:e(d,{sm:"12",className:"mt-1 d-flex justify-content-end",children:e("div",{className:"d-flex",children:e(ne,{className:"me-1",color:"primary",type:"submit",onClick:n=>{n.preventDefault(),G()},disabled:f,children:f?i(O,{children:[e(re,{className:"me-25",size:"sm"}),"Loading"]}):"Receive Inventory"})})})})]})]})]})})})})})};export{me as default};
