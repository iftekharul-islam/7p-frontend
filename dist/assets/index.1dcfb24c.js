import{a as x,f as c,V as S,Y as t,Z as n,j as e,r as g,a1 as z,G as f,L as J,aA as W,Q as X,S as D,aB as w}from"./index.e1926c99.js";import{h as rr}from"./moment.4d75c86c.js";import{a as er}from"./App.403c5a1e.js";const dr=()=>{var s,i,d,p,b,l,o,h,u,_,m,N,a,v,L,C,R,j,k,Y,E,P,T,B,I,A,F,G,O,Q,$,q,V,M,U,H,K,Z;const{showData:r}=x(y=>y.batchList);return c(S,{children:[c(t,{className:"p-1 pt-0",children:[c(n,{md:"1",children:[e("b",{children:"**Route:"})," "]}),e(n,{md:"9",children:((s=r==null?void 0:r.batch)==null?void 0:s.route)&&e("span",{children:c("span",{children:[(d=(i=r==null?void 0:r.batch)==null?void 0:i.route)==null?void 0:d.batch_code,"/",(b=(p=r==null?void 0:r.batch)==null?void 0:p.route)==null?void 0:b.batch_route_name," => ",r==null?void 0:r.stations]})})}),e(n,{md:"2",children:(o=(l=r==null?void 0:r.batch)==null?void 0:l.route)!=null&&o.template?c("span",{children:[(_=(u=(h=r==null?void 0:r.batch)==null?void 0:h.route)==null?void 0:u.template)==null?void 0:_.template_name," Template"]}):e("span",{children:"No Template"})})]}),c(t,{className:"p-1 pt-0",children:[e(n,{md:"1",children:e("b",{children:"Created:"})}),e(n,{md:"3",children:(m=r==null?void 0:r.batch)==null?void 0:m.creation_date}),e(n,{md:"1",children:e("b",{children:"Last Scan:"})}),e(n,{md:"3",children:(N=r==null?void 0:r.last_scan)!=null&&N.date?((a=r==null?void 0:r.last_scan)==null?void 0:a.date)+" by "+((v=r==null?void 0:r.last_scan)==null?void 0:v.username):(L=r==null?void 0:r.batch)==null?void 0:L.change_date}),e(n,{md:"1",children:e("b",{children:"Station:"})}),e(n,{md:"3",children:(C=r==null?void 0:r.batch)!=null&&C.station?((j=(R=r==null?void 0:r.batch)==null?void 0:R.station)==null?void 0:j.station_name)+" => "+((Y=(k=r==null?void 0:r.batch)==null?void 0:k.station)==null?void 0:Y.station_description):"Station Not Found"})]}),c(t,{className:"p-1 pt-0",children:[e(n,{md:"1",children:e("b",{children:"Export:"})}),e(n,{md:"3",children:(E=r==null?void 0:r.batch)!=null&&E.export_date?((P=r==null?void 0:r.batch)==null?void 0:P.export_count)==1?c("span",{children:["Exported ",(T=r==null?void 0:r.batch)==null?void 0:T.export_count," time"," ",(B=r==null?void 0:r.batch)==null?void 0:B.export_date]}):c("span",{children:["Exported ",(I=r==null?void 0:r.batch)==null?void 0:I.export_count," times Last export"," ",(A=r==null?void 0:r.batch)==null?void 0:A.export_date]}):"Not Exported"}),e(n,{md:"4",children:((F=r==null?void 0:r.batch)==null?void 0:F.csv_found)!=0&&"CSV File Found"})]}),c(t,{className:"p-1 pt-0",children:[e(n,{md:"1",children:e("b",{children:"Summary:"})}),(G=r==null?void 0:r.batch)!=null&&G.summary_date?e(n,{md:"6",children:c(t,{children:[c(n,{md:"6",children:["Printed ",(O=r==null?void 0:r.batch)==null?void 0:O.summary_date]}),c(n,{md:"6",children:[(Q=r==null?void 0:r.batch)==null?void 0:Q.summary_count," printed - last by"," ",(q=($=r==null?void 0:r.batch)==null?void 0:$.summary_user)==null?void 0:q.username]})]})}):e(n,{md:"6",children:"Not Printed"})]}),c(t,{className:"p-1 pt-0",children:[e(n,{md:"1",children:e("b",{children:"Graphic:"})}),e(n,{md:"3",children:(V=r==null?void 0:r.batch)==null?void 0:V.graphic_found}),((M=r==null?void 0:r.batch)==null?void 0:M.to_printer)!="0"&&e(n,{md:"4",children:c(t,{children:[e(n,{md:"3",children:e("b",{children:"Printed:"})}),c(n,{md:"9",children:[(U=r==null?void 0:r.batch)==null?void 0:U.to_printer," -"," ",(H=r==null?void 0:r.batch)==null?void 0:H.to_printer_date]})]})})]}),((K=r==null?void 0:r.related)==null?void 0:K.length)>0&&c(t,{className:"p-1 pt-0",children:[e(n,{md:"1",children:e("b",{children:"Related:"})}),e(n,{md:"3",children:(Z=r==null?void 0:r.related)==null?void 0:Z.map(y=>c("span",{children:[y," "]}))})]})]})},nr=()=>{var p,b;const[r,s]=g.exports.useState(""),{showData:i}=x(l=>l.batchList),d=()=>{console.log(r)};return c(S,{children:[c(t,{children:[e(n,{md:"2",className:"p-1 border",children:e("b",{children:"Note"})}),e(n,{md:"1",className:"p-1 border",children:e("b",{children:"Date"})}),e(n,{md:"2",className:"p-1 border",children:e("b",{children:"User"})}),e(n,{md:"1",className:"p-1 border",children:e("b",{children:"Station"})}),e(n,{md:"2",className:"p-1 border",children:e("b",{children:"Station"})}),e(n,{md:"2",className:"p-1 border",children:e("b",{children:"Scan In"})}),e(n,{md:"2",className:"p-1 border",children:e("b",{children:"Scan Out"})})]}),c(t,{children:[e(n,{md:"6",children:(p=i==null?void 0:i.notes)==null?void 0:p.map(l=>{var o,h;return e("span",{children:c(t,{className:"p-1",children:[e(n,{md:"4",children:l==null?void 0:l.note}),e(n,{md:"2",children:rr(l==null?void 0:l.created_at).format("DD MM YYYY")}),e(n,{md:"4",children:(o=l==null?void 0:l.user)==null?void 0:o.username}),e(n,{md:"2",children:(h=l==null?void 0:l.station)==null?void 0:h.station_name})]})})})}),e(n,{md:"6",children:(b=i==null?void 0:i.scans)==null?void 0:b.map(l=>{var o,h;return e("span",{children:c(t,{className:"p-1",children:[e(n,{md:"4",children:(o=l==null?void 0:l.station)==null?void 0:o.station_name}),c(n,{md:"4",children:[(h=l==null?void 0:l.in_user)==null?void 0:h.username," ",l==null?void 0:l.in_date]}),e(n,{md:"4",children:(l==null?void 0:l.out_user)&&l.out_user.username+" "+l.out_date})]})})})})]}),c(t,{children:[e(n,{md:"4",children:e(z,{type:"textarea",name:"note",id:"note",placeholder:"Enter Note",value:r,onChange:l=>{s(l.target.value)}})}),e(n,{md:"2",children:e(f,{color:"primary",onClick:d,children:"Add Note"})})]})]})},cr=()=>{var s,i;const{showData:r}=x(d=>d.batchList);return c(S,{children:[c(t,{children:[e(n,{md:"1",className:"p-1 border"}),e(n,{md:"3",className:"p-1 border",children:e("b",{children:"Order"})}),e(n,{md:"2",className:"p-1 border"}),e(n,{md:"3",className:"p-1 border",children:e("b",{children:"Product"})}),e(n,{md:"3",className:"p-1 border",children:e("b",{children:"Options"})})]}),(i=(s=r==null?void 0:r.batch)==null?void 0:s.items)==null?void 0:i.map(d=>{var p,b,l,o,h,u,_,m,N;return c("span",{children:[c(t,{className:"p-1 border",children:[e(n,{md:"1",children:e(f,{color:"primary",children:"Reject"})}),c(n,{md:"3",children:["Order:"," ",e(J,{to:`/customer-order-edit/${(p=d==null?void 0:d.order)==null?void 0:p.id}`,children:(b=d==null?void 0:d.order)==null?void 0:b.short_order}),e("br",{}),"Date : ",(l=d==null?void 0:d.order)==null?void 0:l.order_date,e("br",{}),"Store: ",(h=(o=d==null?void 0:d.order)==null?void 0:o.store)==null?void 0:h.store_name,e("br",{}),"Re Download Graphic: ",d==null?void 0:d.id,e("br",{}),((_=(u=r==null?void 0:r.batch)==null?void 0:u.station)==null?void 0:_.type)=="Q"&&c(f,{color:"primary",children:["Upload ",d==null?void 0:d.id," Graphic"]})]}),e(n,{md:"2"}),c(n,{md:"3",children:[d==null?void 0:d.child_sku,e("br",{}),d==null?void 0:d.item_description,e("br",{}),"Item# ",d==null?void 0:d.id,e("br",{}),(d==null?void 0:d.item_quantity)===1?c("span",{children:["QTY: ",d==null?void 0:d.item_quantity]}):c("strong",{children:["QTY: ",d==null?void 0:d.item_quantity]}),e("br",{}),d.spec_sheet&&c("div",{children:[e("a",{href:`/products_specifications/${d.spec_sheet.id}`,target:"_blank",children:"Production Instruction"}),e("br",{})]}),d.supervisor_message&&c("div",{children:[d.supervisor_message,e("br",{})]}),d.tracking_number&&c("div",{style:{color:"red"},children:["TRK# ",d.tracking_number]})]}),e(n,{md:"3",children:e(z,{type:"textarea",Rows:"5",value:d==null?void 0:d.item_option,disabled:!0})})]}),((m=d==null?void 0:d.rejections)==null?void 0:m.length)&&((N=d==null?void 0:d.rejections)==null?void 0:N.map(a=>(console.log("A"),c(t,{className:"p-1 border",children:[e(n,{md:2}),c(n,{md:8,children:["Item ",d.id," Rejected ",a.created_at," by"," ",a.user.username,a.rejection_reason_info&&` - ${a.rejection_reason_info.rejection_message}`,"- ",a.rejection_message]})]}))))]})})]})},or=()=>{var l,o,h;const{id:r}=W(),s=er(),{showData:i}=x(u=>u.batchList),[d,p]=g.exports.useState(!1),b=async()=>{p(!0),r&&await s(w(r)),p(!1)};return g.exports.useEffect(()=>{b()},[]),e(g.exports.Fragment,{children:c(X,{children:[e(D,{children:c("h4",{className:"card-title",children:["Batch: ",i==null?void 0:i.batch_number," ",((l=i==null?void 0:i.batch)==null?void 0:l.store)&&"("+((h=(o=i==null?void 0:i.batch)==null?void 0:o.store)==null?void 0:h.store_name)+")"]})}),e(dr,{}),e(cr,{}),e(nr,{})]})})};export{or as default};
