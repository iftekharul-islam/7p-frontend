import{a as O,r as v,bB as T,j as l,f as i,X as u,Y as s,$ as p,a0 as c,G as D,bC as q,bD as z,k as I,Z as A,Q as C,S as Z,T as B,V as $,bE as G}from"./index.6f97c64f.js";/* empty css                  */import{a as S,s as j}from"./App.571d4ccd.js";import{S as L}from"./react-select.esm.eab0f134.js";import{F as H}from"./index.93a40e35.js";import{A as Q}from"./react-select-async.esm.473912f8.js";import"./emotion-memoize.esm.06f0e458.js";const R=(e,n,b)=>{var x;const y=S(),t=O(h=>h.manualOrders);return v.exports.useEffect(()=>{y(T())},[]),l(v.exports.Fragment,{children:i(u,{className:"pt-2",children:[l(s,{sm:"5",children:i(u,{children:[i(s,{sm:"12",children:[l("h4",{children:"Ship To"}),l("hr",{})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"ship_full_name",children:"Full Name"}),l(c,{type:"text",name:"ship_full_name",id:"ship_full_name",placeholder:"Enter Full Name",value:e==null?void 0:e.ship_full_name,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"ship_company_name",children:"Company"}),l(c,{type:"text",name:"ship_company_name",id:"ship_company_name",placeholder:"Enter Company",value:e==null?void 0:e.ship_company_name,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"ship_address_1",children:"Street"}),l(c,{type:"text",name:"ship_address_1",id:"ship_address_1",placeholder:"Enter Street",value:e==null?void 0:e.ship_address_1,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"ship_first_name",children:"First/Last"}),l(c,{type:"text",name:"ship_first_name",id:"ship_first_name",placeholder:"Enter First",value:e==null?void 0:e.ship_first_name,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"ship_last_name",children:"."}),l(c,{type:"text",name:"ship_last_name",id:"ship_last_name",placeholder:"Enter Last",value:e==null?void 0:e.ship_last_name,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"ship_address_2",children:"Line 2"}),l(c,{type:"text",name:"ship_address_2",id:"ship_address_2",placeholder:"Enter Line 2",value:e==null?void 0:e.ship_address_2,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"ship_city",children:"City"}),l(c,{type:"text",name:"ship_city",id:"ship_city",placeholder:"Enter City",value:e==null?void 0:e.ship_city,onChange:n})]}),i(s,{sm:"3",children:[l(p,{className:"form-label",for:"ship_state",children:"State"}),l(c,{type:"text",name:"ship_state",id:"ship_state",placeholder:"State",value:e==null?void 0:e.ship_state,onChange:n})]}),i(s,{sm:"5",children:[l(p,{className:"form-label",for:"ship_zip",children:"ZipCode"}),l(c,{type:"text",name:"ship_zip",id:"ship_zip",placeholder:"Enter ZipCode",value:e==null?void 0:e.ship_zip,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"ship_country",children:"Country"}),l(c,{type:"text",name:"ship_country",id:"ship_country",placeholder:"Enter Country",value:e==null?void 0:e.ship_country,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"ship_phone",children:"Phone"}),l(c,{type:"text",name:"ship_phone",id:"ship_phone",placeholder:"Enter Phone",value:e==null?void 0:e.ship_phone,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"bill_email",children:"Email"}),l(c,{type:"text",name:"bill_email",id:"bill_email",placeholder:"Enter Email",value:e==null?void 0:e.bill_email,onChange:n})]}),i(s,{sm:"8",children:[l(p,{className:"form-label",for:"shipping",children:"Ship Via"}),l(L,{className:"react-select",classNamePrefix:"select",theme:j,placeholder:"Select...",options:t==null?void 0:t.shipOptions,value:(x=t==null?void 0:t.shipOptions)==null?void 0:x.find(h=>(h==null?void 0:h.value)===(e==null?void 0:e.shipping)),onChange:h=>n({target:{name:"shipping",value:h==null?void 0:h.value}})})]})]})}),l(s,{sm:"2"}),l(s,{sm:"5",children:i(u,{children:[i(s,{sm:"12",children:[l("h4",{children:"Bill To"}),l("hr",{})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"bill_full_name",children:"Full Name"}),l(c,{type:"text",name:"bill_full_name",id:"bill_full_name",placeholder:"Enter Full Name",value:e==null?void 0:e.bill_full_name,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"bill_company_name",children:"Company"}),l(c,{type:"text",name:"bill_company_name",id:"bill_company_name",placeholder:"Enter Company",value:e==null?void 0:e.bill_company_name,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"bill_address_2",children:"Line 2"}),l(c,{type:"text",name:"bill_address_2",id:"bill_address_2",placeholder:"Enter Line 2",value:e==null?void 0:e.bill_address_2,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"bill_first_name",children:"First/Last"}),l(c,{type:"text",name:"bill_first_name",id:"bill_first_name",placeholder:"Enter First",value:e==null?void 0:e.bill_first_name,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"bill_last_name",children:"."}),l(c,{type:"text",name:"bill_last_name",id:"bill_last_name",placeholder:"Enter Last",value:e==null?void 0:e.bill_last_name,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"bill_address_1",children:"Street"}),l(c,{type:"text",name:"bill_address_1",id:"bill_address_1",placeholder:"Enter Street",value:e==null?void 0:e.bill_address_1,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"bill_city",children:"City"}),l(c,{type:"text",name:"bill_city",id:"bill_city",placeholder:"Enter City",value:e==null?void 0:e.bill_city,onChange:n})]}),i(s,{sm:"3",children:[l(p,{className:"form-label",for:"bill_state",children:"State"}),l(c,{type:"text",name:"bill_state",id:"bill_state",placeholder:"State",value:e==null?void 0:e.bill_state,onChange:n})]}),i(s,{sm:"5",children:[l(p,{className:"form-label",for:"bill_zip",children:"ZipCode"}),l(c,{type:"text",name:"bill_zip",id:"bill_zip",placeholder:"Enter ZipCode",value:e==null?void 0:e.bill_zip,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"bill_country",children:"Country"}),l(c,{type:"text",name:"bill_country",id:"bill_country",placeholder:"Enter Country",value:e==null?void 0:e.bill_country,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"bill_phone",children:"Phone"}),l(c,{type:"text",name:"bill_phone",id:"bill_phone",placeholder:"Enter Phone",value:e==null?void 0:e.bill_phone,onChange:n})]})]})})]})})},Y=(e,n,b,y)=>{var t,x,h,_,g,r,o,m;return v.exports.useEffect(()=>{var f,d,N,F,E,P,k;n({target:{name:"total",value:parseFloat(parseFloat((f=e==null?void 0:e.subtotal)!=null?f:0)-parseFloat((d=e==null?void 0:e.coupon_value)!=null?d:0)+parseFloat((N=e==null?void 0:e.gift_wrap_cost)!=null?N:0)+parseFloat((F=e==null?void 0:e.shipping_charge)!=null?F:0)+parseFloat((E=e==null?void 0:e.insurance)!=null?E:0)+parseFloat((P=e==null?void 0:e.adjustments)!=null?P:0)+parseFloat((k=e==null?void 0:e.tax_charge)!=null?k:0)).toFixed(2)}})},[e==null?void 0:e.subtotal,e==null?void 0:e.coupon_value,e==null?void 0:e.gift_wrap_cost,e==null?void 0:e.shipping_charge,e==null?void 0:e.insurance,e==null?void 0:e.adjustments,e==null?void 0:e.tax_charge]),l(v.exports.Fragment,{children:i(u,{className:"pt-2",children:[l(s,{sm:"7"}),i(s,{sm:"5",children:[i(u,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Subtotal:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(c,{type:"number",name:"subtotal",id:"subtotal",value:(t=e==null?void 0:e.subtotal)!=null?t:0,disabled:!0})})]}),i(u,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Coupon-discount:"}),l(s,{sm:"4",children:l(c,{type:"text",name:"coupon_id",id:"coupon_id",placeholder:"Coupon id",value:e==null?void 0:e.coupon_id,onChange:n})}),l(s,{sm:"4",children:l(c,{type:"number",name:"coupon_value",id:"coupon_value",value:(x=e==null?void 0:e.coupon_value)!=null?x:0,onChange:n})})]}),i(u,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Gift Wrap:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(c,{type:"number",name:"gift_wrap_cost",id:"gift_wrap_cost",value:(h=e==null?void 0:e.gift_wrap_cost)!=null?h:0,onChange:n})})]}),i(u,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Shipping:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(c,{type:"number",name:"shipping_charge",id:"shipping_charge",value:(_=e==null?void 0:e.shipping_charge)!=null?_:0,onChange:n})})]}),i(u,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Insurance:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(c,{type:"number",name:"insurance",id:"insurance",value:(g=e==null?void 0:e.insurance)!=null?g:0,onChange:n})})]}),i(u,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Adjustments:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(c,{type:"number",name:"adjustments",id:"adjustments",value:(r=e==null?void 0:e.adjustments)!=null?r:0,onChange:n})})]}),i(u,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Tax:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(c,{type:"number",name:"tax_charge",id:"tax_charge",value:(o=e==null?void 0:e.tax_charge)!=null?o:0,onChange:n})})]}),i(u,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Total:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(c,{type:"number",name:"total",id:"total",value:(m=e==null?void 0:e.total)!=null?m:0,disabled:!0})})]}),l(u,{children:l(s,{sm:"12",className:"mt-1",children:l("div",{className:"d-flex justify-content-end",children:l(D,{className:"me-1",color:"primary",type:"submit",onClick:f=>{f.preventDefault(),b()},children:"Submit"})})})})]})]})})},M=(e,n,b)=>{var x,h;const y=S(),t=O(_=>_.manualOrders);return v.exports.useEffect(()=>{y(q())},[]),l(v.exports.Fragment,{children:i(u,{children:[i(s,{sm:"4",children:[l(p,{className:"form-label",for:"store",children:"Store"}),l(L,{className:"react-select",classNamePrefix:"select",theme:j,placeholder:"Select Store",options:t==null?void 0:t.storeOptions,value:(x=t==null?void 0:t.storeOptions)==null?void 0:x.find(_=>(_==null?void 0:_.value)===(e==null?void 0:e.store)),onChange:_=>n({target:{name:"store",value:_==null?void 0:_.value}})})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"PO",children:"PO Number"}),l(c,{type:"text",name:"PO",id:"PO",placeholder:"Enter PO Number",value:e==null?void 0:e.PO,onChange:n})]}),i(s,{sm:"4",children:[l(p,{className:"form-label",for:"date",children:"Date"}),l(H,{className:"form-control",id:"date",placeholder:"Select Date",value:(h=e==null?void 0:e.start_date)!=null?h:null,options:{dateFormat:"d-m-Y"},onChange:_=>n({target:{name:"date",value:_[0]}})})]})]})})},W=(e,n,b)=>{var g;const y=S(),t=async r=>{let o=[];return r.length>3?(o=await y(z(r)),o==null?void 0:o.payload):[]},x=r=>{var m,f,d,N,F,E;const o=[...(m=e==null?void 0:e.items)!=null?m:[]];o==null||o.push({child_sku:(f=r==null?void 0:r.data)==null?void 0:f.product_model,id_catalog:(d=r==null?void 0:r.data)==null?void 0:d.id_catalog,item_description:(N=r==null?void 0:r.data)==null?void 0:N.product_name,item_thumb:(F=r==null?void 0:r.data)==null?void 0:F.product_thumb,item_unit_price:(E=r==null?void 0:r.data)==null?void 0:E.product_price,item_quantity:1}),n({target:{name:"items",value:o}})},h=(r,o)=>{var f,d,N;const m=[...(f=e==null?void 0:e.items)!=null?f:[]];m[o][(d=r.target)==null?void 0:d.name]=(N=r.target)==null?void 0:N.value,n({target:{name:"items",value:m}})};v.exports.useEffect(()=>{const r=parseFloat(e==null?void 0:e.items.reduce(function(o,m){return parseFloat(o)+parseFloat(m==null?void 0:m.item_unit_price)*parseFloat(m==null?void 0:m.item_quantity)},0)).toFixed(2);n({target:{name:"subtotal",value:r}})},[e==null?void 0:e.items]);const _=r=>{var f;const o=[...(f=e==null?void 0:e.items)!=null?f:[]],m=o.slice(0,r).concat(o.slice(r+1,o==null?void 0:o.length));n({target:{name:"items",value:m}})};return i(v.exports.Fragment,{children:[i(u,{className:"rounded bg-secondary p-1 my-1 text-uppercase",children:[l(s,{sm:"1 text-light fw-bolder ",children:"Image"}),l(s,{sm:"3 text-light fw-bolder",children:"Name"}),l(s,{sm:"4 text-light fw-bolder",children:"Description"}),l(s,{sm:"1 text-light fw-bolder",children:"Quantity"}),l(s,{sm:"1 text-light fw-bolder",children:"Price"}),l(s,{sm:"1 text-light fw-bolder",children:"Total"}),l(s,{sm:"1 text-light fw-bolder",children:"Action"})]}),(g=e==null?void 0:e.items)==null?void 0:g.map((r,o)=>i(u,{className:"",children:[l(s,{sm:"1",children:l("img",{src:r==null?void 0:r.item_thumb,alt:r==null?void 0:r.child_sku,height:"50",width:"50"})}),i(s,{sm:"3",children:[l("div",{children:r==null?void 0:r.child_sku}),l("div",{children:r==null?void 0:r.item_description})]}),l(s,{sm:"4",children:l(c,{type:"text",Rows:"1",name:"options",id:"options",placeholder:"Click Here",value:r==null?void 0:r.options,onChange:m=>h(m,o)})}),l(s,{sm:"1",children:l(c,{type:"number",name:"item_quantity",id:"item_quantity",placeholder:"Item_quantity",value:r==null?void 0:r.item_quantity,onChange:m=>h(m,o)})}),l(s,{sm:"1",children:l(c,{type:"number",name:"item_unit_price",id:"item_unit_price",placeholder:"Price",value:parseFloat(r==null?void 0:r.item_unit_price).toFixed(2),onChange:m=>h(m,o)})}),l(s,{sm:"1",children:l(c,{type:"number",name:"total_price",id:"total_price",placeholder:"Price",value:parseFloat((r==null?void 0:r.item_quantity)*(r==null?void 0:r.item_unit_price)).toFixed(2),disabled:!0})}),l(s,{sm:"1",children:l(D,{color:"danger",onClick:m=>{m.preventDefault(),_(o)},children:"Delete"})}),l("hr",{})]},o)),i(u,{className:"pt-2",children:[l(s,{sm:"2"}),l(s,{sm:"8",children:l(Q,{isClearable:!1,className:"react-select",classNamePrefix:"select",name:"callback-react-select",loadOptions:t,value:null,onChange:x,theme:j})}),l(s,{sm:"2"})]})]})},ee=()=>{const e=S(),n=I(),b=O(r=>r.manualOrders),[y,t]=v.exports.useState({items:[]}),[x,h]=v.exports.useState(null);v.exports.useEffect(()=>{b!=null&&b.stock&&t({...b==null?void 0:b.stock,stock_no_unique:null})},[b==null?void 0:b.stock]);const _=r=>{var o,m;t({...y,[(o=r.target)==null?void 0:o.name]:(m=r.target)==null?void 0:m.value})},g=async()=>{var o,m,f;const r=await e(G(y));(o=r==null?void 0:r.payload)!=null&&o.status?(t({items:[]}),setTimeout(()=>n("/customer-order"),1500)):h((f=(m=r==null?void 0:r.payload)==null?void 0:m.data)==null?void 0:f.errors)};return l(v.exports.Fragment,{children:l(u,{children:l(A,{children:l(s,{sm:"12",children:i(C,{children:[l(Z,{children:l(B,{tag:"h4",children:"New Manual Order"})}),i($,{children:[M(y,_),R(y,_),W(y,_),Y(y,_,g)]})]})})})})})};export{ee as default};
