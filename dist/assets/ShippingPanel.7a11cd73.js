import{k as $,r as k,f as a,X as u,j as n,Y as i,I as B,G as m,$ as v,a0 as H,dg as z,dh as Q,di as w}from"./index.662ca89f.js";import{P as J}from"./plus-circle.f89b9d8c.js";import{a as q}from"./App.a28b8776.js";const as=({data:I,selected:V=[],origin:D,items:l=null})=>{var d,g,C,M,b,O,r,X,F,y,Y,G,f;const L=q();$();const{bin:A,order:s,item_options:K,thumbs:Z,batch:_,id:P}=I!=null?I:{};l||(l=A==null?void 0:A.items);const[e,U]=k.exports.useState([{pounds:0,ounces:0}]),x=()=>{U([...e,{pounds:0,ounces:0}])};let p=null,S=null;const R=JSON.parse(localStorage.getItem("userData")),j={"":"DEFAULT SHIPPING","*":"DEFAULT SHIPPING","MN*":"MANUAL SHIPPING","US*FIRST_CLASS":"USPS FIRST_CLASS","US*PRIORITY":"USPS PRIORITY","US*EXPRESS":"USPS EXPRESS","UP*S_GROUND":"UPS GROUND","UP*S_3DAYSELECT":"UPS 3DAYSELECT","UP*S_AIR_2DAY":"UPS AIR_2DAY","UP*S_AIR_2DAYAM":"UPS AIR_2DAYAM","UP*S_AIR_1DAYSAVER":"UPS AIR_1DAYSAVER","UP*S_AIR_1DAY":"UPS AIR_1DAY","UP*S_SUREPOST":"UPS SUREPOST","FX*_SMART_POST":"FEDEX SMARTPOST","FX*_GROUND_HOME_DELIVERY":"FEDEX GROUND_HOME_DELIVERY","FX*_FEDEX_GROUND":"FEDEX GROUND","FX*_FEDEX_2_DAY":"FEDEX 2_DAY","FX*_FEDEX_EXPRESS_SAVER":"FEDEX EXPRESS_SAVER","FX*_STANDARD_OVERNIGHT":"FEDEX STANDARD_OVERNIGHT","FX*_PRIORITY_OVERNIGHT":"FEDEX PRIORITY_OVERNIGHT","DL*_SMARTMAIL_PARCEL_EXPEDITED_MAX":"DHL SMARTMAIL PARCEL EXPEDITED MAX","DL*_SMARTMAIL_PARCEL_EXPEDITED":"DHL SMARTMAIL PARCEL EXPEDITED","DL*_SMARTMAIL_PARCEL_GROUND":"DHL SMARTMAIL PARCEL GROUND","DL*_SMARTMAIL_PARCEL_PLUS_EXPEDITED":"DHL SMARTMAIL PARCEL PLUS EXPEDITED","DL*_SMARTMAIL_PARCEL_PLUS_GROUND":"DHL SMARTMAIL PARCEL PLUS GROUND","DL*_PARCEL_INTERNATIONAL_DIRECT":"DHL PARCEL INTERNATIONAL DIRECT","EN*USFC":"ENDCIA USPS FIRST CLASS","EN*USPM":"ENDCIA USPS PRIORITY","EN*USCG":"ENDCIA USPS GROUND"};(s==null?void 0:s.store)&&((d=s==null?void 0:s.store)==null?void 0:d.qc)==="0"?(p="success",(s==null?void 0:s.carrier)==="MN"?(S=s==null?void 0:s.method,p="info"):(l==null?void 0:l.length)>1?S=`${l==null?void 0:l.length} Lines Approved by ${R==null?void 0:R.username}`:S=`Approved by ${R==null?void 0:R.username}`,((g=s==null?void 0:s.shippable_items)==null?void 0:g.length)!==(l==null?void 0:l.length)&&(S=`Partial Ship ${S}`,p="primary")):(S="Ship by Supervisor",p="danger");const W=async c=>{c.preventDefault(),D=="QC"?await L(z({action:"address",batch_number:_==null?void 0:_.batch_number,id:P,order_id:s==null?void 0:s.id,origin:"QC",count:l==null?void 0:l.length})):await L(Q({order_id:s==null?void 0:s.id}))},T=(c,t)=>{const{name:E,value:N}=c.target,h=[...e];h[t][E]=N,U(h)},o=async(c,t)=>{c.preventDefault();const E=e==null?void 0:e.map(h=>h.pounds),N=e==null?void 0:e.map(h=>h.ounces);await L(w({batch_number:_==null?void 0:_.batch_number,id:P!=null?P:null,bin:A==null?void 0:A.id,order_id:s==null?void 0:s.id,origin:D!=null?D:null,location:t,count:l==null?void 0:l.length,"selected-items-json":JSON==null?void 0:JSON.stringify(V),pounds:E,ounces:N}))};return a(u,{className:"border rounded p-1",children:[(s==null?void 0:s.carrier)!=null&&(s==null?void 0:s.carrier)!=="MN"&&n(i,{sm:"12",className:"panel-header",children:n("h4",{children:n("strong",{children:a("u",{children:["Ship By ",j[(s==null?void 0:s.carrier)+"*"+(s==null?void 0:s.method)]]})})})}),a(u,{className:"panel-body",children:[n(i,{sm:"4",className:"col-xs-12 col-sm-4 col-md-2",children:(s==null?void 0:s.carrier)!=null?a(B,{children:[(s==null?void 0:s.carrier)==="FX"&&n("img",{src:"/assets/images/fedex.jpg",alt:"FedEx"}),(s==null?void 0:s.carrier)==="UP"&&!s.method.includes("MAIL_INNOVATIONS")&&n("img",{src:"/assets/images/ups.jpg",alt:"UPS"}),(s==null?void 0:s.carrier)==="US"&&n("img",{src:"/assets/images/usps.jpg",alt:"USPS"})]}):n("strong",{children:"Ship to:"})}),a(i,{sm:"4",className:"col-xs-12 col-sm-8 col-md-5",children:[n("div",{children:(C=s==null?void 0:s.customer)==null?void 0:C.ship_full_name}),n("div",{children:((M=s==null?void 0:s.customer)==null?void 0:M.ship_company_name)&&((b=s==null?void 0:s.customer)==null?void 0:b.ship_company_name)}),n("div",{children:(O=s==null?void 0:s.customer)==null?void 0:O.ship_address_1}),n("div",{children:((r=s==null?void 0:s.customer)==null?void 0:r.ship_address_2)&&((X=s==null?void 0:s.customer)==null?void 0:X.ship_address_2)}),a("div",{children:[(F=s==null?void 0:s.customer)==null?void 0:F.ship_city,", ",(y=s==null?void 0:s.customer)==null?void 0:y.ship_state," ",(Y=s==null?void 0:s.customer)==null?void 0:Y.ship_zip]}),n("div",{children:((G=s==null?void 0:s.customer)==null?void 0:G.ship_country.substring(0,2))!=="US"&&((f=s==null?void 0:s.customer)==null?void 0:f.ship_country)}),n(m,{color:"primary",size:"sm",className:"btn-xs",onClick:W,children:"Bad Address"})]}),a(i,{sm:"4",className:"col-xs-12 col-sm-12 col-md-5",style:{textAlign:"right",padding:0},children:[e==null?void 0:e.map((c,t)=>a(u,{children:[n(i,{sm:"4",children:t==0&&((s==null?void 0:s.carrier)==="US"?n("label",{style:{color:"red"},children:"*Weight:"}):n("label",{children:"Weight:"}))}),a(i,{sm:"4",children:[t==0&&n(v,{children:"lbs"}),n(H,{type:"number",name:"pounds",style:{width:"100px"},min:"0",defaultValue:0,value:c.pounds,onChange:E=>T(E,t)})]}),a(i,{sm:"4",children:[t==0&&n(v,{children:"oz"}),n(H,{type:"number",name:"ounces",style:{width:"100px"},min:"0",defaultValue:0,value:c.ounces,onChange:E=>T(E,t)})]})]})),a(u,{children:[n(i,{sm:"6"}),n(i,{sm:"6",className:"mt-1",children:a(m,{onClick:x,children:[n(J,{})," Weight"]})})]}),n(u,{children:a(m,{type:"submit",name:"submitButton",value:"fl",className:`pull-right btn btn-lg btn-${p}`,style:{marginTop:"5px"},onClick:c=>o(c,"FL"),children:[S," (FL)"]})}),n(u,{children:a(m,{type:"submit",name:"submitButton",value:"ny",className:"pull-right btn btn-lg btn-warning",style:{marginTop:"5px"},onClick:c=>o(c,"NY"),children:[S," (NY)"]})})]})]})]})};export{as as S};
