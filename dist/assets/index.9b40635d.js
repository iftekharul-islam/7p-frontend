import{k as N,r as m,a as x,bO as y,bP as C,j as a,f as c,Q as _,S as D,V as j,Y as i,Z as n,a1 as B,G as S,bn as F,bQ as P,bR as k}from"./index.fb39505d.js";import{a as L}from"./App.5cbffddf.js";import{S as M}from"./react-select.esm.79369571.js";import"./emotion-memoize.esm.06f0e458.js";const z=()=>{const o=L(),g=N(),[l,r]=m.exports.useState(!1),{data:s,searchParams:d,storeOptions:h}=x(e=>e.moveToProductions);m.exports.useEffect(()=>{o(y()),p()},[]);const p=async()=>{r(!0),await o(C()),r(!1)},v=async()=>{var t;r(!0);const e=await o(P());(t=e==null?void 0:e.payload)!=null&&t.status&&g("/move-to-production/show"),r(!1)},u=e=>{o(k(e))};return a(m.exports.Fragment,{children:c(_,{children:[a(D,{children:a("h4",{className:"card-title",children:"Move to Production"})}),c(j,{children:[c(i,{className:"mb-1",children:[a(n,{md:"3",children:a(B,{placeholder:"Search for Second",value:d==null?void 0:d.scan_batches,onChange:e=>{var t;return u({scan_batches:(t=e==null?void 0:e.target)==null?void 0:t.value})}})}),a(n,{md:"2",children:a(S,{color:"primary",onClick:v,disabled:l,children:l?"Please Wait...":"Show Batch"})}),a(n,{md:"1"}),a(n,{md:"3",children:a(M,{className:"react-select",classNamePrefix:"select",placeholder:"Filter by Store",isMulti:!0,options:h,value:h==null?void 0:h.filter(e=>{var t;return(t=d==null?void 0:d.store_id)==null?void 0:t.includes(e==null?void 0:e.value)}),onChange:e=>{u({store_id:e==null?void 0:e.map(t=>t==null?void 0:t.value)})},isDisabled:l})}),a(n,{md:"2",children:a(S,{color:"primary",onClick:p,disabled:l,children:l?"Please Wait...":"Filter by Store"})})]}),(s==null?void 0:s.length)>0?c("div",{children:[a(i,{children:a(n,{children:c("h4",{children:[s.reduce(function(e,t){return e+(t==null?void 0:t.total)},0)," ","Batches to move to production"]})})}),s==null?void 0:s.map((e,t)=>{var f,b;return c(i,{children:[a(n,{md:"3",className:"p-1 border",children:(f=e==null?void 0:e.section)==null?void 0:f.section_name}),a(n,{md:"7",className:"p-1 border",children:(b=e==null?void 0:e.production_station)==null?void 0:b.station_description}),a(n,{md:"2",className:"p-1 border d-flex justify-content-center",children:e==null?void 0:e.total})]},t)}),c(i,{children:[a(n,{md:"7"}),a(n,{md:"3",className:"p-1",children:a("b",{children:"Total"})}),a(n,{md:"2",className:"p-1 d-flex justify-content-center",children:a("b",{children:s.reduce(function(e,t){return e+(t==null?void 0:t.total)},0)})})]})]}):a(i,{children:a(n,{md:"12",children:a("h4",{className:"text-center",children:l?c("span",{children:[a(F,{size:"sm"}),"Data Loading"]}):"No Data Found"})})})]})]})})};export{z as default};
