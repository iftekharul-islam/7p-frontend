import{k as z,r as q,f as c,X as I,j as n,Y as E,I as J,G as D,$ as v,a0 as r,df as w,dg as K}from"./index.02630f83.js";import{a as Q}from"./App.caee2ce1.js";const as=({data:H,selected:m=[],origin:h="WAP",items:l=null})=>{var o,g,d,M,C,O,X,F,b,y,Y,G,f;console.log("\u{1F680} ~ file: ShippingPanel.js:13 ~ origin:",h);const L=Q();z();const{bin:S,order:s,item_options:Z,thumbs:ss}=H;l||(l=S==null?void 0:S.items);const[e,N]=q.exports.useState([{pounds:0,ounces:0}]),V=()=>{N([...e,{pounds:0,ounces:0}])};let R=null,i=null;const _=JSON.parse(localStorage.getItem("userData")),x={"":"DEFAULT SHIPPING","*":"DEFAULT SHIPPING","MN*":"MANUAL SHIPPING","US*FIRST_CLASS":"USPS FIRST_CLASS","US*PRIORITY":"USPS PRIORITY","US*EXPRESS":"USPS EXPRESS","UP*S_GROUND":"UPS GROUND","UP*S_3DAYSELECT":"UPS 3DAYSELECT","UP*S_AIR_2DAY":"UPS AIR_2DAY","UP*S_AIR_2DAYAM":"UPS AIR_2DAYAM","UP*S_AIR_1DAYSAVER":"UPS AIR_1DAYSAVER","UP*S_AIR_1DAY":"UPS AIR_1DAY","UP*S_SUREPOST":"UPS SUREPOST","FX*_SMART_POST":"FEDEX SMARTPOST","FX*_GROUND_HOME_DELIVERY":"FEDEX GROUND_HOME_DELIVERY","FX*_FEDEX_GROUND":"FEDEX GROUND","FX*_FEDEX_2_DAY":"FEDEX 2_DAY","FX*_FEDEX_EXPRESS_SAVER":"FEDEX EXPRESS_SAVER","FX*_STANDARD_OVERNIGHT":"FEDEX STANDARD_OVERNIGHT","FX*_PRIORITY_OVERNIGHT":"FEDEX PRIORITY_OVERNIGHT","DL*_SMARTMAIL_PARCEL_EXPEDITED_MAX":"DHL SMARTMAIL PARCEL EXPEDITED MAX","DL*_SMARTMAIL_PARCEL_EXPEDITED":"DHL SMARTMAIL PARCEL EXPEDITED","DL*_SMARTMAIL_PARCEL_GROUND":"DHL SMARTMAIL PARCEL GROUND","DL*_SMARTMAIL_PARCEL_PLUS_EXPEDITED":"DHL SMARTMAIL PARCEL PLUS EXPEDITED","DL*_SMARTMAIL_PARCEL_PLUS_GROUND":"DHL SMARTMAIL PARCEL PLUS GROUND","DL*_PARCEL_INTERNATIONAL_DIRECT":"DHL PARCEL INTERNATIONAL DIRECT","EN*USFC":"ENDCIA USPS FIRST CLASS","EN*USPM":"ENDCIA USPS PRIORITY","EN*USCG":"ENDCIA USPS GROUND"};(s==null?void 0:s.store)&&((o=s==null?void 0:s.store)==null?void 0:o.qc)==="0"?(R="success",(s==null?void 0:s.carrier)==="MN"?(i=s==null?void 0:s.method,R="info"):(l==null?void 0:l.length)>1?i=`${l==null?void 0:l.length} Lines Approved by ${_==null?void 0:_.username}`:i=`Approved by ${_==null?void 0:_.username}`,((g=s==null?void 0:s.shippable_items)==null?void 0:g.length)!==(l==null?void 0:l.length)&&(i=`Partial Ship ${i}`,R="primary")):(i="Ship by Supervisor",R="danger");const j=(a,t)=>{a.preventDefault(),L(w(t))},U=(a,t)=>{const{name:A,value:P}=a.target,p=[...e];p[t][A]=P,N(p)},T=async(a,t,A,P,p,W,$)=>{a.preventDefault();const k=e==null?void 0:e.map(u=>u.pounds),B=e==null?void 0:e.map(u=>u.ounces);await L(K({bin:t,order_id:A,origin:P,location:p,count:W,"selected-items-json":$,pounds:k,ounces:B}))};return c(I,{className:"border rounded p-1",children:[(s==null?void 0:s.carrier)!=null&&(s==null?void 0:s.carrier)!=="MN"&&n(E,{sm:"12",className:"panel-header",children:n("h4",{children:n("strong",{children:c("u",{children:["Ship By ",x[(s==null?void 0:s.carrier)+"*"+(s==null?void 0:s.method)]]})})})}),c(I,{className:"panel-body",children:[n(E,{sm:"4",className:"col-xs-12 col-sm-4 col-md-2",children:(s==null?void 0:s.carrier)!=null?c(J,{children:[(s==null?void 0:s.carrier)==="FX"&&n("img",{src:"/assets/images/fedex.jpg",alt:"FedEx"}),(s==null?void 0:s.carrier)==="UP"&&!s.method.includes("MAIL_INNOVATIONS")&&n("img",{src:"/assets/images/ups.jpg",alt:"UPS"}),(s==null?void 0:s.carrier)==="US"&&n("img",{src:"/assets/images/usps.jpg",alt:"USPS"})]}):n("strong",{children:"Ship to:"})}),c(E,{sm:"4",className:"col-xs-12 col-sm-8 col-md-5",children:[n("div",{children:(d=s==null?void 0:s.customer)==null?void 0:d.ship_full_name}),n("div",{children:((M=s==null?void 0:s.customer)==null?void 0:M.ship_company_name)&&((C=s==null?void 0:s.customer)==null?void 0:C.ship_company_name)}),n("div",{children:(O=s==null?void 0:s.customer)==null?void 0:O.ship_address_1}),n("div",{children:((X=s==null?void 0:s.customer)==null?void 0:X.ship_address_2)&&((F=s==null?void 0:s.customer)==null?void 0:F.ship_address_2)}),c("div",{children:[(b=s==null?void 0:s.customer)==null?void 0:b.ship_city,", ",(y=s==null?void 0:s.customer)==null?void 0:y.ship_state," ",(Y=s==null?void 0:s.customer)==null?void 0:Y.ship_zip]}),n("div",{children:((G=s==null?void 0:s.customer)==null?void 0:G.ship_country.substring(0,2))!=="US"&&((f=s==null?void 0:s.customer)==null?void 0:f.ship_country)}),n(D,{color:"primary",size:"sm",className:"btn-xs",onClick:a=>j(a,{order_id:s==null?void 0:s.id}),children:"Bad Address"})]}),c(E,{sm:"4",className:"col-xs-12 col-sm-12 col-md-5",style:{textAlign:"right",padding:0},children:[e==null?void 0:e.map((a,t)=>c(I,{children:[n(E,{sm:"4",children:t==0&&((s==null?void 0:s.carrier)==="US"?n("label",{style:{color:"red"},children:"*Weight:"}):n("label",{children:"Weight:"}))}),c(E,{sm:"4",children:[t==0&&n(v,{children:"lbs"}),n(r,{type:"number",name:"pounds",style:{width:"100px"},min:"0",defaultValue:0,value:a.pounds,onChange:A=>U(A,t)})]}),c(E,{sm:"4",children:[t==0&&n(v,{children:"oz"}),n(r,{type:"number",name:"ounces",style:{width:"100px"},min:"0",defaultValue:0,value:a.ounces,onChange:A=>U(A,t)})]})]})),n(D,{onClick:V,children:"Add Weight"}),c(D,{type:"submit",name:"submitButton",value:"fl",className:`pull-right btn btn-lg btn-${R}`,style:{marginTop:"5px"},onClick:a=>T(a,S==null?void 0:S.id,s==null?void 0:s.id,h,"FL",l==null?void 0:l.length,m),children:[i," (FL)"]}),c(D,{type:"submit",name:"submitButton",value:"ny",className:"pull-right btn btn-lg btn-warning",style:{marginTop:"5px"},onClick:a=>T(a,S==null?void 0:S.id,s==null?void 0:s.id,h,"NY",l==null?void 0:l.length,m),children:[i," (NY)"]})]})]})]})};export{as as S};
