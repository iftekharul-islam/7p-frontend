import{aF as H,r as h,k as P,a as T,dr as U,dp as j,ds as w,j as a,Y as g,$ as G,Z as t,f as r,Q as M,S as V,T as $,V as k,a0 as c,a1 as i,G as L,dt as O}from"./index.fb39505d.js";import{a as I,s as y}from"./App.5cbffddf.js";import{S as v}from"./react-select.esm.79369571.js";import"./emotion-memoize.esm.06f0e458.js";const z=()=>{const{id:d}=H(),[e,N]=h.exports.useState(null),[u,S]=h.exports.useState(null),[x,D]=h.exports.useState(null),p=I(),R=P(),{route:m,stationOptions:B,nestingOption:_,templateOptions:f}=T(s=>s.routes);h.exports.useEffect(()=>{d&&(p(U(d)),p(j()),p(w()))},[d]),h.exports.useEffect(()=>{var s;if(m){N(m);const n=(s=m==null?void 0:m.stations_list)==null?void 0:s.map(l=>({label:l==null?void 0:l.station_name,value:l==null?void 0:l.station_id}));S(n)}},[m]);const o=s=>{var n,l;N({...e,[(n=s.target)==null?void 0:n.name]:(l=s.target)==null?void 0:l.value})},F=async()=>{var l,C,E;const s=u==null?void 0:u.map(b=>b==null?void 0:b.value),n=await p(O({id:d,data:{...e,batch_stations:s}}));(l=n==null?void 0:n.payload)!=null&&l.status?R("/route"):D((E=(C=n==null?void 0:n.payload)==null?void 0:C.data)==null?void 0:E.errors)};return a(h.exports.Fragment,{children:a(g,{children:a(G,{children:a(t,{sm:"12",children:r(M,{children:[a(V,{children:a($,{tag:"h4",children:"Edit Route"})}),r(k,{children:[r(g,{children:[r(t,{sm:"6",children:[a(c,{className:"form-label",for:"batch_code",children:"Batch Code"}),a(i,{type:"text",name:"batch_code",id:"batch_code",placeholder:"Enter Batch Code",value:e==null?void 0:e.batch_code,onChange:o}),a("small",{className:"text-danger",children:x==null?void 0:x.batch_code})]}),r(t,{sm:"6",children:[a(c,{className:"form-label",for:"batch_route_name",children:"Route Name"}),a(i,{type:"text",name:"batch_route_name",id:"batch_route_name",placeholder:"Enter Route Name",value:e==null?void 0:e.batch_route_name,onChange:o})]}),r(t,{sm:"6",children:[a(c,{className:"form-label",for:"summary_msg_1",children:"Summary Header 1"}),a(i,{type:"text",name:"summary_msg_1",id:"summary_msg_1",placeholder:"Enter Summary Header 1",value:e==null?void 0:e.summary_msg_1,onChange:o})]}),r(t,{sm:"6",children:[a(c,{className:"form-label",for:"summary_msg_2",children:"Summary Header 2"}),a(i,{type:"text",name:"summary_msg_2",id:"summary_msg_2",placeholder:"Enter Summary Header 2",value:e==null?void 0:e.summary_msg_2,onChange:o})]}),r(t,{sm:"6",children:[a(c,{className:"form-label",for:"batch_max_units",children:"Max Unit"}),a(i,{type:"text",name:"batch_max_units",id:"batch_max_units",placeholder:"Enter Max Unit",value:e==null?void 0:e.batch_max_units,onChange:o})]}),r(t,{sm:"6",children:[a(c,{className:"form-label",for:"csv_extension",children:"CSV Directory"}),a(i,{type:"text",name:"csv_extension",id:"csv_extension",placeholder:"Enter CSV Directory",value:e==null?void 0:e.csv_extension,onChange:o})]}),r(t,{sm:"6",children:[a(c,{className:"form-label",for:"export_dir",children:"File Extension:"}),a(i,{type:"text",name:"export_dir",id:"export_dir",placeholder:"Enter File Extension",value:e==null?void 0:e.export_dir,onChange:o})]}),r(t,{sm:"6",children:[a(c,{className:"form-label",for:"graphic_dir",children:"Graphic Directory"}),a(i,{type:"text",name:"graphic_dir",id:"graphic_dir",placeholder:"Enter Graphic Directory",value:e==null?void 0:e.graphic_dir,onChange:o})]}),r(t,{sm:"12",children:[a(c,{className:"form-label",for:"batch_code",children:"Options (Comma delimited)"}),a(i,{type:"textarea",name:"batch_code",rows:"3",id:"batch_code",placeholder:"Enter Batch",value:e==null?void 0:e.batch_code,onChange:o})]}),r(t,{sm:"6",children:[a(c,{className:"form-label",for:"batch_export_template",children:"Export template"}),a(v,{className:"react-select",classNamePrefix:"select",theme:y,placeholder:"Select Stations",options:f,value:f==null?void 0:f.find(s=>(s==null?void 0:s.value)==(e==null?void 0:e.export_template)),onChange:s=>{o({target:{name:"export_template",value:s==null?void 0:s.value}})},isClearable:!1})]}),r(t,{sm:"6",children:[a(c,{className:"form-label",for:"nesting",children:"Nesting"}),a(v,{className:"react-select",classNamePrefix:"select",theme:y,placeholder:"Select Stations",options:_,value:_==null?void 0:_.find(s=>(s==null?void 0:s.value)==(e==null?void 0:e.nesting)),onChange:s=>{o({target:{name:"nesting",value:s==null?void 0:s.value}})},isClearable:!1})]}),r(t,{sm:"12",children:[a(c,{className:"form-label",for:"batch_stations",children:"Stations"}),a(v,{className:"react-select",classNamePrefix:"select",theme:y,placeholder:"Select Stations",options:B,value:u,onChange:s=>{S(s)},isClearable:!0,isMulti:!0})]})]}),a(g,{children:a(t,{sm:"12",className:"mt-1",children:a("div",{className:"d-flex",children:a(L,{className:"me-1",color:"primary",type:"submit",onClick:s=>{s.preventDefault(),F()},children:"Update"})})})})]})]})})})})})};export{z as default};
