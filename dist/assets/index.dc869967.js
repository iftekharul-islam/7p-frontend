import{k,r as m,a as w,eA as A,j as e,f as l,Q as I,S as L,V as W,Y as o,Z as d,G as v,a1 as R,bj as P,eB as T}from"./index.db14b012.js";/* empty css                  */import{a as Y}from"./App.c9615b80.js";import{F as z}from"./index.5a4c75c1.js";const V=()=>{var N,u,f,g;const h=Y(),F=k(),[t,n]=m.exports.useState(!1),{data:a,searchParams:c}=w(r=>r.WAP);console.log("\u{1F680} ~ file: index.js:24 ~ index ~ data:",(N=a==null?void 0:a.sorted_bins)==null?void 0:N.length),m.exports.useEffect(()=>{i()},[]);const O=async()=>{var s;n(!0);const r=await h(getShowData());(s=r==null?void 0:r.payload)!=null&&s.status&&F("/wap/details"),n(!1)},i=async()=>{n(!0),await h(A()),n(!1)},p=r=>{h(T(r))};return e(m.exports.Fragment,{children:l(I,{children:[e(L,{children:e("h4",{className:"card-title",children:"WAP"})}),l(W,{children:[l(o,{className:"mb-1",children:[e(d,{md:"1"}),e(d,{md:"2",children:e(z,{className:"form-control",options:{dateFormat:"Y-m-d"},value:c==null?void 0:c.end_date,onChange:r=>{p({end_date:r[0]})},placeholder:"Older Than"})}),e(d,{md:"2",children:e(v,{color:"primary",onClick:i,disabled:t,children:t?"Please Wait...":"Search by Date"})}),e(d,{md:"2"}),e(d,{md:"2",children:e(R,{type:"text",name:"order_id",placeholder:"Scan Label",value:c==null?void 0:c.store_id,onChange:r=>{var s;return p({order_id:(s=r==null?void 0:r.target)==null?void 0:s.value})}})}),e(d,{md:"2",children:e(v,{color:"primary",onClick:O,disabled:t,children:t?"Please Wait...":"Open Bin"})})]}),((u=a==null?void 0:a.bins)==null?void 0:u.length)>0?l("div",{children:[l(o,{children:[e(d,{md:"1",className:"p-1 border",children:e("b",{children:"Bin"})}),e(d,{md:"1",className:"p-1 border",children:e("b",{children:" Status "})}),e(d,{md:"2",className:"p-1 border",children:e("b",{children:" Last Item Added "})}),e(d,{md:"2",className:"p-1 border",children:e("b",{children:" Store Order"})}),e(d,{md:"1",className:"p-1 border",children:e("b",{children:" Order Date"})}),e(d,{md:"1",className:"p-1 border",children:e("b",{children:" In Order"})}),e(d,{md:"1",className:"p-1 border",children:e("b",{children:" In Bin"})}),e(d,{md:"1",className:"p-1 border",children:e("b",{children:" Rejected"})}),e(d,{md:"2",className:"p-1 border",children:e("b",{children:" Backorder"})})]}),(f=a==null?void 0:a.sorted_bins)==null?void 0:f.map((r,s)=>{var _,x,S,y,C,B,j,D;if(((x=(_=r==null?void 0:r.order)==null?void 0:_.shippable_items)==null?void 0:x.length)==(r==null?void 0:r.item_count)&&(((S=r==null?void 0:r.order)==null?void 0:S.order_status)==4||((y=r==null?void 0:r.order)==null?void 0:y.order_status)==9))return l(o,{children:[e(d,{md:"1",className:"p-1 border",children:r==null?void 0:r.name}),e(d,{md:"1",className:"p-1 border",children:"Ready to Ship"}),e(d,{md:"2",className:"p-1 border",children:r==null?void 0:r.last}),e(d,{md:"2",className:"p-1 border",children:(C=r==null?void 0:r.order)==null?void 0:C.short_order}),e(d,{md:"1",className:"p-1 border",children:(B=r==null?void 0:r.order)==null?void 0:B.order_date}),e(d,{md:"1",className:"p-1 border",children:(D=(j=r==null?void 0:r.order)==null?void 0:j.shippable_items)==null?void 0:D.length}),e(d,{md:"1",className:"p-1 border",children:r==null?void 0:r.item_count})]},s)}),l(o,{children:[e(d,{md:"7"}),e(d,{md:"3",className:"p-1",children:e("b",{children:"Total"})}),e(d,{md:"2",className:"p-1 d-flex justify-content-center",children:e("b",{children:(g=a==null?void 0:a.bins)==null?void 0:g.reduce(function(r,s){return r+(s==null?void 0:s.total)},0)})})]})]}):e(o,{children:e(d,{md:"12",children:e("h4",{className:"text-center",children:t?l("span",{children:[e(P,{size:"sm"}),"Data Loading"]}):"No Data Found"})})})]})]})})};export{V as default};
