import{r as v,j as l,p as y,a as J,eW as K,eX as M,a5 as k,eY as ee,eZ as re,f as i,Q as O,S as Q,G as S,V as j,X as f,Y as h,a0 as x,I as le,br as ae,e_ as ce,e$ as ie}from"./index.e509d298.js";/* empty css                  */import{a as ne}from"./App.fa99906d.js";/* empty css                                  */import{S as g}from"./react-select.esm.76df6a42.js";import{E as de}from"./edit.ceac4a29.js";import"./emotion-memoize.esm.06f0e458.js";function se(s,p){if(s==null)return{};var u=he(s,p),r,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);for(a=0;a<n.length;a++)r=n[a],!(p.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(s,r)||(u[r]=s[r]))}return u}function he(s,p){if(s==null)return{};var u={},r=Object.keys(s),a,n;for(n=0;n<r.length;n++)a=r[n],!(p.indexOf(a)>=0)&&(u[a]=s[a]);return u}var w=v.exports.forwardRef(function(s,p){var u=s.color,r=u===void 0?"currentColor":u,a=s.size,n=a===void 0?24:a,t=se(s,["color","size"]);return l("svg",{ref:p,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:l("polyline",{points:"20 6 9 17 4 12"})})});w.propTypes={color:y.exports.string,size:y.exports.oneOfType([y.exports.string,y.exports.number])};w.displayName="Check";const ue=w,xe=()=>{var I,F,z,E,T,U,$,W,P,R,B,L,A,V;const s=ne(),[p,u]=v.exports.useState(!0),r=J(e=>e.tasks),{searchParams:a,newTask:n}=r,[t,D]=v.exports.useState(!1);let C="";v.exports.useEffect(()=>{s(K()),s(M())},[]);const[N,pe]=k();v.exports.useEffect(()=>{if(N){let e={};N==null||N.forEach((d,_)=>{d!="null"&&(e={...e,[_]:d})}),o(e),b()}},[N]);const b=async()=>{D(!0),await s(ee()),D(!1)},o=e=>{s(re(e))},m=e=>{s(ce(e))},Z=async e=>{await s(ie(e))};return l("div",{className:"app-user-list",children:i(v.exports.Fragment,{children:[i(O,{className:"px-1",children:[i(Q,{children:[l("h4",{className:"card-title",children:"Search Tasks"}),l(S,{color:"primary",onClick:e=>{e.preventDefault(),u(!p)},children:"New Task"})]}),l(j,{children:i(f,{className:"border p-1",children:[l(h,{sm:"2",children:l(g,{className:"react-select",classNamePrefix:"select",options:r==null?void 0:r.taskStatusOptions,placeholder:"Task Status",value:(I=r==null?void 0:r.taskStatusOptions)==null?void 0:I.find(e=>(e==null?void 0:e.value)==(a==null?void 0:a.status)),onChange:e=>o({status:e==null?void 0:e.value}),isClearable:!0})}),l(h,{sm:"3",children:l(g,{className:"react-select",classNamePrefix:"select",options:r==null?void 0:r.userOptions,placeholder:"Assigned To",value:(F=r==null?void 0:r.userOptions)==null?void 0:F.find(e=>(e==null?void 0:e.value)==(a==null?void 0:a.user_id)),onChange:e=>o({user_id:e==null?void 0:e.value}),isClearable:!0})}),l(h,{sm:"3",children:l(g,{className:"react-select",classNamePrefix:"select",options:r==null?void 0:r.userOptions,placeholder:"Created By",value:(z=r==null?void 0:r.userOptions)==null?void 0:z.find(e=>(e==null?void 0:e.value)==(a==null?void 0:a.create_user_id)),onChange:e=>o({create_user_id:e==null?void 0:e.value}),isClearable:!0})}),l(h,{sm:"1",children:l(x,{placeholder:"Search For",value:a==null?void 0:a.search_for,onChange:e=>{var d;o({search_for:(d=e==null?void 0:e.target)==null?void 0:d.value})}})}),l(h,{sm:"2",children:l(g,{className:"react-select",classNamePrefix:"select",options:r==null?void 0:r.searchInOption,placeholder:"Search In",value:(E=r==null?void 0:r.searchInOption)==null?void 0:E.find(e=>(e==null?void 0:e.value)==(a==null?void 0:a.search_in)),onChange:e=>o({search_in:e==null?void 0:e.value}),isClearable:!0})}),l(h,{sm:"1",className:"d-flex justify-content-end",children:l(S,{color:"primary",onClick:b,disabled:t,className:"w-full",children:t?"Please Wait":"Filter"})})]})})]}),p&&i(O,{className:"p-2",children:[l(Q,{children:l("h4",{className:"card-title",children:"Create Task"})}),l(j,{children:i(f,{className:"border rounded p-1",children:[i(h,{sm:"8",children:[i(f,{className:"mb-1",children:[l(h,{sm:"4",children:l(g,{className:"react-select",classNamePrefix:"select",options:r==null?void 0:r.userOptions,placeholder:"For",value:(T=r==null?void 0:r.userOptions)==null?void 0:T.find(e=>(e==null?void 0:e.value)==(n==null?void 0:n.user)),onChange:e=>m({user:e==null?void 0:e.value}),isClearable:!0})}),l(h,{sm:"8",children:l(x,{type:"text",placeholder:"Task",value:n==null?void 0:n.text,onChange:e=>{var d;return m({text:(d=e==null?void 0:e.target)==null?void 0:d.value})}})})]}),i(f,{children:[l(h,{sm:"4",children:l(x,{type:"date",placeholder:"Due Date",value:n==null?void 0:n.due_date,onChange:e=>{var d;return m({due_date:(d=e==null?void 0:e.target)==null?void 0:d.value})}})}),l(h,{sm:"8",children:l(x,{type:"file",placeholder:"Attachment",onChange:e=>{var d;return m({attachment:(d=e==null?void 0:e.target)==null?void 0:d.files[0]})}})})]})]}),l(h,{sm:"3",children:(U=r==null?void 0:r.data)!=null&&U.array?i("div",{children:[l("a",{href:($=r==null?void 0:r.data)==null?void 0:$.array[2],target:"_blank",children:(W=r==null?void 0:r.data)==null?void 0:W.array[3]}),l("br",{}),(P=r==null?void 0:r.data)==null?void 0:P.array[4]," ",l("br",{})," ",(R=r==null?void 0:r.data)==null?void 0:R.array[5]]}):i(f,{children:[l(h,{sm:"12",className:"mb-1",children:l(g,{className:"react-select",classNamePrefix:"select",placeholder:"Search In",options:r==null?void 0:r.searchInOption,value:n==null?void 0:n.search_in,onChange:e=>{var d;return m({search_in:(d=e==null?void 0:e.target)==null?void 0:d.value})}})}),l(h,{sm:"12",children:l(x,{type:"text",placeholder:"Search For",value:n==null?void 0:n.associate_with,onChange:e=>{var d;return m({associate_with:(d=e==null?void 0:e.target)==null?void 0:d.value})}})})]})}),l(h,{sm:"1",className:"d-flex align-items-center",children:l(S,{color:"primary",onClick:b,disabled:t,children:t?"Please Wait":"Create"})})]})})]}),l(O,{children:l(j,{children:((L=(B=r==null?void 0:r.data)==null?void 0:B.tasks)==null?void 0:L.length)>0?(V=(A=r==null?void 0:r.data)==null?void 0:A.tasks)==null?void 0:V.map((e,d)=>{var _,X,Y,G;return i(f,{className:"p-1 border rounded mb-1",children:[i(h,{sm:"1",className:"d-flex justify-content-end",children:[l(de,{ize:18,className:"text-info me-50"}),l(ue,{ize:18,className:"text-success me-50",onClick:()=>Z(e==null?void 0:e.id)})]}),i(h,{sm:"2",children:[(e==null?void 0:e.msg_read)!="2"?i("strong",{children:["*Task ",e==null?void 0:e.id]}):i("span",{children:["Task ",e==null?void 0:e.id]}),l("br",{}),(e==null?void 0:e.due_date)&&(e==null?void 0:e.due_date)!="0000-00-00"&&(e==null?void 0:e.due_date)<=new Date&&i("strong",{className:"text-danger",children:["Due ",e==null?void 0:e.due_date]}),(e==null?void 0:e.due_date)&&(e==null?void 0:e.due_date)!="0000-00-00"&&i("span",{children:["Due ",e==null?void 0:e.due_date]})]}),l(h,{sm:"2",children:e!=null&&e.assigned_user?(e==null?void 0:e.status)=="O"?l("strong",{children:(_=e==null?void 0:e.assigned_user)==null?void 0:_.username}):(e==null?void 0:e.status)=="C"?l("span",{children:(X=e==null?void 0:e.assigned_user)==null?void 0:X.username}):l("span",{children:"Unrecognized status"}):l("span",{children:"USER NOT FOUND"})}),i(h,{sm:"4",children:[i("div",{className:"alert-info mb-1 p-1 rounded",children:[l("div",{children:e==null?void 0:e.text}),i("div",{children:[e!=null&&e.create_user?i("span",{children:["- ",(Y=e==null?void 0:e.create_user)==null?void 0:Y.username]}):l("span",{children:"USER NOT FOUND"}),l("span",{children:e==null?void 0:e.created_at})]})]}),(G=e==null?void 0:e.notes)==null?void 0:G.map((c,q)=>{var H;return C=="alert-warning"?C="alert-success":C="alert-warning",i("div",{className:`mb-1 ${C} p-1`,children:[l("div",{children:(c==null?void 0:c.ext)==null?l("div",{children:c==null?void 0:c.text}):l("a",{download:c==null?void 0:c.text,href:`/assets/attachments/${c.text}`,children:["gif","jpg","png","jpeg"].includes(c==null?void 0:c.ext)?l("img",{src:`/assets/attachments/${c==null?void 0:c.text}`,className:"Image"}):i("span",{children:["Download ",c==null?void 0:c.ext]})})}),i("div",{children:[c!=null&&c.user?i("span",{children:["- ",(H=c==null?void 0:c.user)==null?void 0:H.username]}):l("span",{children:"USER NOT FOUND"}),l("span",{children:c==null?void 0:c.created_at})]})]},q)})]})]},d)}):l("div",{className:"text-center",children:t?i(le,{children:[l(ae,{size:"sm"}),"Please Wait"]}):"No Data Found"})})})]})})};export{xe as default};
