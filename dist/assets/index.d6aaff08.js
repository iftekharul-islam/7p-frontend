import{k as j,r as S,a as F,j as s,f as n,Q,S as U,V as q,X as p,Y as r,a0 as z,G as W,L as T,bo as H,eQ as G,eR as J}from"./index.6f97c64f.js";/* empty css                  */import{a as V}from"./App.571d4ccd.js";import{h as X}from"./moment.4d75c86c.js";const i=()=>{var N;const u=V(),$=j(),[_,g]=S.exports.useState(!1),{WAPData:v,searchParams:b}=F(a=>a.WAP),{bin:c,order:d,item_options:E,thumbs:h}=v,L=async()=>{g(!0);const a=await u(G());a!=null&&a.payload&&$("/wap/bin"),g(!1)},R=a=>{u(J(a))},Y=async a=>{};return s(S.exports.Fragment,{children:n(Q,{children:[s(U,{children:s("h4",{className:"card-title",children:"WAP"})}),n(q,{children:[n(p,{className:"mb-1",children:[s(r,{md:"7"}),s(r,{md:"2",children:s(z,{type:"text",name:"order_id",placeholder:"Scan Label",value:b==null?void 0:b.store_id,onChange:a=>{var o;return R({order_id:(o=a==null?void 0:a.target)==null?void 0:o.value})}})}),s(r,{md:"2",children:s(W,{color:"primary",onClick:L,disabled:_,children:_?"Please Wait...":"Open Bin"})})]}),d?n("div",{children:[n(p,{children:[n(r,{md:"3",className:"p-1",children:["BIN ",n("b",{children:["#",c==null?void 0:c.name]})]}),n(r,{md:"7",className:"p-1",children:["Order"," ",n("b",{children:["#",s(T,{to:`/customer-order-edit/${d==null?void 0:d.id}`,children:d==null?void 0:d.short_order})]})]}),s(r,{md:"2",className:"p-1",children:n("small",{children:["Order Date:"," ",X(d==null?void 0:d.order_date).format("YYYY-MM-DD")]})})]}),(N=d==null?void 0:d.items)==null?void 0:N.map((a,o)=>{var f,w,k,D,I,B,C,P,x,y,A;return n(p,{className:"border rounded mt-1",children:[s(r,{md:"8",className:"p-1",children:s("a",{href:a==null?void 0:a.item_url,children:a==null?void 0:a.item_description})}),s(r,{md:"2",className:"p-1",children:(a==null?void 0:a.item_status)=="wap"&&s(T,{to:`/wap/reprint?bin_id=${c==null?void 0:c.id}&item_id=${a==null?void 0:a.id}`,className:"btn btn-default btn-sm",children:"Reprint WAP Label"})}),s(r,{md:"2",className:"p-1",children:(a==null?void 0:a.item_status)=="wap"&&(a==null?void 0:a.batch)?s(W,{color:"danger",size:"sm",onClick:()=>Y(a==null?void 0:a.id,c==null?void 0:c.id),children:"Reject from WAP"}):(a==null?void 0:a.item_status)=="rejected"?n("strong",{children:["REJECTED ",(f=a==null?void 0:a.rejections)==null?void 0:f.lenght," TIMES"]}):s("strong",{children:a==null?void 0:a.item_status})}),s(r,{md:"12",className:"p-1",children:(a==null?void 0:a.item_status)=="wap"&&(a==null?void 0:a.wap_item)?n("small",{children:["Added to Bin ",(w=a==null?void 0:a.wap_item)==null?void 0:w.created_at]}):(a==null?void 0:a.item_status)=="wap"?s("strong",{children:"WAP ITEM NOT FOUND"}):s("hr",{})}),s(r,{md:"3",className:"p-1",children:s("a",{href:a==null?void 0:a.item_url,target:"_blank",children:s("img",{src:a==null?void 0:a.item_thumb,height:"200"})})}),n(r,{md:"6",className:"p-1",children:[a==null?void 0:a.child_sku,s("br",{}),"Item: ",a==null?void 0:a.id,s("br",{}),(a==null?void 0:a.item_quantity)>1&&n("strong",{children:["QTY: ",a==null?void 0:a.item_quantity]}),s("ul",{children:E[a==null?void 0:a.id]})]}),s(r,{md:"3",className:"p-1",children:(a==null?void 0:a.item_status)=="wap"&&((k=h[a==null?void 0:a.id])==null?void 0:k.length)>0?s("img",{src:h[a==null?void 0:a.id][0],width:h[a==null?void 0:a.id][1],height:h[a==null?void 0:a.id][2]}):(a==null?void 0:a.item_status)=="production"&&(a==null?void 0:a.batch_number)!="0"?n("span",{children:[n("a",{href:`/batch-list/${a==null?void 0:a.batch_number}`,target:"_blank",children:["Batch ",a==null?void 0:a.batch_number]}),(a==null?void 0:a.batch)&&((D=a==null?void 0:a.batch)==null?void 0:D.station)&&n("span",{children:[(B=(I=a==null?void 0:a.batch)==null?void 0:I.station)==null?void 0:B.station_description,s("br",{})]}),(a==null?void 0:a.batch)&&s("span",{children:(C=a==null?void 0:a.batch)==null?void 0:C.change_date})]}):(a==null?void 0:a.item_status)=="production"&&(a==null?void 0:a.batch_number)=="0"?"Unbatched":(a==null?void 0:a.item_status)=="rejected"?n("span",{children:[n("a",{href:`/batch-list/${a==null?void 0:a.batch_number}`,target:"_blank",children:["Batch ",a==null?void 0:a.batch_number]}),((P=a==null?void 0:a.rejections)==null?void 0:P.length)>0&&((x=a==null?void 0:a.rejections)==null?void 0:x.map((l,M)=>{var O;return n("span",{children:[s("br",{}),n("small",{children:["Rejected ",l==null?void 0:l.created_at,s("br",{}),(O=l==null?void 0:l.rejection_reason_info)==null?void 0:O.rejection_message]})]},M)}))]}):(a==null?void 0:a.item_status)=="back order"?n("a",{href:`/batch-list/${a==null?void 0:a.batch_number}`,target:"_blank",children:["Batch ",a==null?void 0:a.batch_number]}):(a==null?void 0:a.item_status)=="shipped"?a!=null&&a.shipInfo?n("div",{children:[(y=a==null?void 0:a.shipInfo)==null?void 0:y.mail_class,s("br",{}),(A=a==null?void 0:a.shipInfo)==null?void 0:A.shipping_id]}):"SHIPMENT NOT FOUND":""})]},o)})]}):s(p,{children:s(r,{md:"12",children:s("h4",{className:"text-center",children:_?n("span",{children:[s(H,{size:"sm"}),"Data Loading"]}):"No Data Found"})})})]})]})})};export{i as default};
