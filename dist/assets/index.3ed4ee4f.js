import{f as l,X as t,Y as d,j as s,L as $,a as q,r as P,bv as U,bw as z,bx as G,by as K,Q,a0 as W,G as X,bz as H,bA as J}from"./index.fb2a22ed.js";/* empty css                  */import{a as V}from"./App.3770f8d8.js";/* empty css                                  */import{F as w}from"./index.7db57e77.js";import{R as Z}from"./react-paginate.d6138029.js";import{S as Y}from"./react-select.esm.578f970a.js";import{h as i}from"./moment.4d75c86c.js";import"./emotion-memoize.esm.06f0e458.js";const m=(a,n)=>{var u,p,c,F,h,e,g,_,f,v,b,N,C,S,k,O,x,y,L,D,A,r,o,I,R,j,B,M,T,E;return l(t,{className:"p-1 border",children:[l(d,{sm:"2",children:[s("div",{children:s("u",{children:s("strong",{children:(a==null?void 0:a.order)&&((u=a==null?void 0:a.order)==null?void 0:u.customer)?empty((c=(p=a==null?void 0:a.order)==null?void 0:p.customer)==null?void 0:c.ship_full_name)?(g=(e=a==null?void 0:a.order)==null?void 0:e.customer)==null?void 0:g.bill_full_name:(h=(F=a==null?void 0:a.order)==null?void 0:F.customer)==null?void 0:h.ship_full_name:"CUSTOMER NOT FOUND"})})}),l("div",{children:["Item#",a==null?void 0:a.id]}),s($,{to:`/customer-order-edit/${a==null?void 0:a.order_5p}`,children:s("div",{children:a!=null&&a.order?(_=a==null?void 0:a.order)==null?void 0:_.short_order:"ORDER NOT FOUND"})}),s("div",{children:i((f=a==null?void 0:a.order)==null?void 0:f.order_date).format("YYYY-MM-DD")})]}),s(d,{sm:"2",children:s("img",{src:a==null?void 0:a.item_thumb,height:120})}),l(d,{sm:"2",children:[a==null?void 0:a.item_description,s("br",{}),"SKU: ",a==null?void 0:a.child_sku,s("br",{}),"QTY: ",a==null?void 0:a.item_quantity]}),s(d,{sm:"2",children:a==null?void 0:a.item_option}),s(d,{sm:"2",children:l("div",{children:["Item Status: ",a==null?void 0:a.item_status,(a==null?void 0:a.order)!=null]})}),s(d,{sm:"2",children:s("div",{children:(a==null?void 0:a.item_status)=="shipped"?l("div",{children:[(a==null?void 0:a.shipInfo)&&l("div",{children:[(v=a==null?void 0:a.shipInfo)==null?void 0:v.shipping_id," ",s("br",{})," ",(b=a==null?void 0:a.shipInfo)==null?void 0:b.transaction_datetime]}),(a==null?void 0:a.tracking_number)&&s("div",{children:a==null?void 0:a.tracking_number}),(a==null?void 0:a.order)&&((N=a==null?void 0:a.order)==null?void 0:N.customer)&&l("div",{children:["Ship State: ",(S=(C=a==null?void 0:a.order)==null?void 0:C.customer)==null?void 0:S.ship_state," "]})]}):(a==null?void 0:a.item_status)=="wap"?s("div",{children:a!=null&&a.wap_item?l("div",{children:["WAP Bin ",(O=(k=a==null?void 0:a.wap_item)==null?void 0:k.bin)==null?void 0:O.name," ",s("br",{})," Added:",(x=a==null?void 0:a.wap_item)==null?void 0:x.created_at]}):"WAP - Bin not found"}):(a==null?void 0:a.batch_number)!="0"?l("div",{children:[(a==null?void 0:a.batch)&&l("div",{children:["Status: ",(L=(y=a==null?void 0:a.batch)==null?void 0:y.status)!=null?L:"N/A"," ",s("br",{})," Last Scan:"," ",(A=(D=a==null?void 0:a.batch)==null?void 0:D.change_date)!=null?A:"N/A"]}),(a==null?void 0:a.batch_number)&&l("div",{children:["Batch # ",a==null?void 0:a.batch_number]}),((r=a==null?void 0:a.batch)==null?void 0:r.station)&&l("div",{children:["Station: ",(R=(I=(o=a==null?void 0:a.batch)==null?void 0:o.station)==null?void 0:I.station_name)!=null?R:"N/A"," ",(M=(B=(j=a==null?void 0:a.batch)==null?void 0:j.station)==null?void 0:B.station_description)!=null?M:"N/A"]}),l("div",{children:["***Last Scan: ",s("br",{}),(E=(T=a==null?void 0:a.batch)==null?void 0:T.change_date)!=null?E:"N/A"," "]})]}):"Unbatched"})})]})},ua=()=>{var e,g,_,f,v,b,N,C,S,k,O,x,y,L,D,A;const a=V(),n=q(r=>r.itemsList),[u,p]=P.exports.useState(!1),c=n==null?void 0:n.searchParams;P.exports.useEffect(()=>{n!=null&&n.params&&a(U())},[n==null?void 0:n.params]),P.exports.useEffect(()=>{a(z()),a(G()),a(K())},[]);const F=async()=>{p(!0),await a(U()),p(!1)},h=r=>{a(J(r))};return s("div",{className:"app-user-list",children:l(P.exports.Fragment,{children:[l(Q,{className:"p-2",children:[l(t,{className:"mb-1",children:[s(d,{sm:"3",children:s(W,{placeholder:"Search for 1",value:c==null?void 0:c.search_for_first,onChange:r=>{var o;return h({search_for_first:(o=r==null?void 0:r.target)==null?void 0:o.value})}})}),s(d,{sm:"3",children:s(Y,{placeholder:"Search in",options:n==null?void 0:n.searchOptions,value:(e=n==null?void 0:n.searchOptions)==null?void 0:e.find(r=>(r==null?void 0:r.value)==(c==null?void 0:c.search_in_first)),onChange:r=>h({search_in_first:r==null?void 0:r.value})})}),s(d,{sm:"3",children:s(W,{placeholder:"Search for 2",value:c==null?void 0:c.search_for_second,onChange:r=>{var o;return h({search_for_second:(o=r==null?void 0:r.target)==null?void 0:o.value})}})}),s(d,{sm:"3",children:s(Y,{placeholder:"Search in",options:n==null?void 0:n.searchOptions,value:(g=n==null?void 0:n.searchOptions)==null?void 0:g.find(r=>(r==null?void 0:r.value)==(c==null?void 0:c.search_in_second)),onChange:r=>h({search_in_second:r==null?void 0:r.value})})})]}),l(t,{children:[s(d,{sm:"2",children:s(w,{className:"form-control",id:"date",placeholder:"Start Date",value:(_=c==null?void 0:c.start_date)!=null?_:null,options:{dateFormat:"d-m-Y"},onChange:r=>h({start_date:r[0]})})}),s(d,{sm:"2",children:s(w,{className:"form-control",id:"date",placeholder:"End Date",value:(f=c==null?void 0:c.end_date)!=null?f:null,options:{dateFormat:"d-m-Y"},onChange:r=>h({end_date:r[0]})})}),s(d,{sm:"2",children:s(w,{className:"form-control",id:"date",placeholder:"Tracking Date",value:(v=c==null?void 0:c.tracking_date)!=null?v:null,options:{dateFormat:"d-m-Y"},onChange:r=>h({tracking_date:r[0]})})}),s(d,{sm:"2",children:s(Y,{placeholder:"Filter By Status",isMulti:!0,options:n==null?void 0:n.statusOptions,value:(b=n==null?void 0:n.statusOptions)==null?void 0:b.find(r=>(r==null?void 0:r.value)==(c==null?void 0:c.status)),onChange:r=>h({status:r==null?void 0:r.map(o=>o==null?void 0:o.value)})})}),s(d,{sm:"2",children:s(Y,{placeholder:"Filter By Store",isMulti:!0,options:n==null?void 0:n.storeOptions,value:(N=n==null?void 0:n.storeOptions)==null?void 0:N.find(r=>(r==null?void 0:r.value)==(c==null?void 0:c.store)),onChange:r=>h({store:r==null?void 0:r.map(o=>o==null?void 0:o.value)})})}),s(d,{sm:"2",className:"d-flex justify-content-center",children:s(X,{color:"primary",onClick:F,disabled:u,children:u?"Searching":"Search"})})]})]}),((C=n==null?void 0:n.data)==null?void 0:C.length)>0&&l(Q,{className:"px-1",children:[l("div",{className:"d-flex justify-content-between",children:[l("div",{className:"m-1",children:[(S=n==null?void 0:n.total)==null?void 0:S.count," Items found"," ",l("small",{children:["(Total Quantity: ",(k=n==null?void 0:n.total)==null?void 0:k.sum,")"]})]}),l("div",{className:"m-1",children:[(O=n==null?void 0:n.total)==null?void 0:O.unassignedProductCount," products need routes /",(x=n==null?void 0:n.total)==null?void 0:x.unassignedOrderCount," unbatched items need routes"]})]}),s(t,{children:(y=n==null?void 0:n.data)==null?void 0:y.map(r=>s(d,{sm:"12",children:m(r)}))}),s("div",{className:"d-flex justify-content-end",children:s(Z,{nextLabel:"",pageCount:Number(Math.ceil(((L=n==null?void 0:n.total)==null?void 0:L.count)/50)),breakLabel:"...",previousLabel:"",pageRangeDisplayed:5,marginPagesDisplayed:2,forcePage:((D=n==null?void 0:n.params)==null?void 0:D.page)!==0?((A=n==null?void 0:n.params)==null?void 0:A.page)-1:0,onPageChange:r=>a(H({page:r.selected+1})),activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",nextLinkClassName:"page-link",pageLinkClassName:"page-link",nextClassName:"page-item next",breakLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item prev",containerClassName:"pagination react-paginate"})})]})]})})};export{ua as default};
