import{a as P,r as f,bo as w,f as i,Y as t,j as l,Z as s,a0 as h,a1 as o,G as a,aB as D,bl as q,bk as A,bp as B,bq as M,aj as C,ak as I,al as z,br as L,bs as Z,bt as R,$,Q as H,S as U,T as G,V as Q,bu as Y}from"./index.545d534b.js";/* empty css                  */import{a as j,M as W,s as O}from"./App.979e7298.js";import{E as J}from"./eye.15cd2be1.js";import{F as K}from"./index.8b7148f3.js";import{S as T}from"./react-select.esm.5b8ca9c8.js";import{A as X}from"./react-select-async.esm.d87aaa7e.js";import"./emotion-memoize.esm.06f0e458.js";const V=(e,n,u,g)=>{var p;const y=j();return P(N=>N.manualOrders),f.exports.useEffect(()=>{y(w())},[]),i(f.exports.Fragment,{children:[i(t,{className:"pt-2",children:[l(s,{sm:"5",children:i(t,{children:[i(s,{sm:"12",children:[l("h4",{children:"Ship To"}),l("hr",{})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_full_name",children:"Full Name"}),l(o,{type:"text",name:"ship_full_name",id:"ship_full_name",placeholder:"Enter Full Name",value:e==null?void 0:e.ship_full_name,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_company_name",children:"Company"}),l(o,{type:"text",name:"ship_company_name",id:"ship_company_name",placeholder:"Enter Company",value:e==null?void 0:e.ship_company_name,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_address_1",children:"Street"}),l(o,{type:"text",name:"ship_address_1",id:"ship_address_1",placeholder:"Enter Street",value:e==null?void 0:e.ship_address_1,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_first_name",children:"First/Last"}),l(o,{type:"text",name:"ship_first_name",id:"ship_first_name",placeholder:"Enter First",value:e==null?void 0:e.ship_first_name,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_last_name",children:"."}),l(o,{type:"text",name:"ship_last_name",id:"ship_last_name",placeholder:"Enter Last",value:e==null?void 0:e.ship_last_name,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_address_2",children:"Line 2"}),l(o,{type:"text",name:"ship_address_2",id:"ship_address_2",placeholder:"Enter Line 2",value:e==null?void 0:e.ship_address_2,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_city",children:"City"}),l(o,{type:"text",name:"ship_city",id:"ship_city",placeholder:"Enter City",value:e==null?void 0:e.ship_city,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_state",children:"State"}),l(o,{type:"text",name:"ship_state",id:"ship_state",placeholder:"State",value:e==null?void 0:e.ship_state,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_zip",children:"ZipCode"}),l(o,{type:"text",name:"ship_zip",id:"ship_zip",placeholder:"Enter ZipCode",value:e==null?void 0:e.ship_zip,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_country",children:"Country"}),l(o,{type:"text",name:"ship_country",id:"ship_country",placeholder:"Enter Country",value:e==null?void 0:e.ship_country,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"ship_phone",children:"Phone"}),l(o,{type:"text",name:"ship_phone",id:"ship_phone",placeholder:"Enter Phone",value:e==null?void 0:e.ship_phone,onChange:n})]})]})}),l(s,{sm:"2"}),l(s,{sm:"5",children:i(t,{children:[i(s,{sm:"12",children:[l("h4",{children:"Bill To"}),l("hr",{})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_full_name",children:"Full Name"}),l(o,{type:"text",name:"bill_full_name",id:"bill_full_name",placeholder:"Enter Full Name",value:e==null?void 0:e.bill_full_name,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_company_name",children:"Company"}),l(o,{type:"text",name:"bill_company_name",id:"bill_company_name",placeholder:"Enter Company",value:e==null?void 0:e.bill_company_name,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_address_2",children:"Line 2"}),l(o,{type:"text",name:"bill_address_2",id:"bill_address_2",placeholder:"Enter Line 2",value:e==null?void 0:e.bill_address_2,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_first_name",children:"First/Last"}),l(o,{type:"text",name:"bill_first_name",id:"bill_first_name",placeholder:"Enter First",value:e==null?void 0:e.bill_first_name,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_last_name",children:"."}),l(o,{type:"text",name:"bill_last_name",id:"bill_last_name",placeholder:"Enter Last",value:e==null?void 0:e.bill_last_name,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_address_1",children:"Street"}),l(o,{type:"text",name:"bill_address_1",id:"bill_address_1",placeholder:"Enter Street",value:e==null?void 0:e.bill_address_1,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_city",children:"City"}),l(o,{type:"text",name:"bill_city",id:"bill_city",placeholder:"Enter City",value:e==null?void 0:e.bill_city,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_state",children:"State"}),l(o,{type:"text",name:"bill_state",id:"bill_state",placeholder:"State",value:e==null?void 0:e.bill_state,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_zip",children:"ZipCode"}),l(o,{type:"text",name:"bill_zip",id:"bill_zip",placeholder:"Enter ZipCode",value:e==null?void 0:e.bill_zip,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_country",children:"Country"}),l(o,{type:"text",name:"bill_country",id:"bill_country",placeholder:"Enter Country",value:e==null?void 0:e.bill_country,onChange:n})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"bill_phone",children:"Phone"}),l(o,{type:"text",name:"bill_phone",id:"bill_phone",placeholder:"Enter Phone",value:e==null?void 0:e.bill_phone,onChange:n})]})]})})]}),l("hr",{}),i(t,{className:"pt-1",children:[l(s,{sm:"2",className:"d-flex align-items-center",children:l(h,{className:"form-label",for:"bill_email",children:"Email"})}),l(s,{sm:"3",children:l(o,{type:"text",name:"bill_email",id:"bill_email",placeholder:"Enter Email",value:(p=e==null?void 0:e.customer)==null?void 0:p.bill_email,onChange:n})}),i(s,{sm:"2",className:"d-flex align-items-center",children:[l("div",{onClick:N=>{g(!0),N.preventDefault()},children:l(W,{size:20,className:"mx-1"})}),"|",l(J,{size:20,className:"mx-1"})]})]}),i(t,{className:"pt-1",children:[l(s,{sm:"2",className:"d-flex align-items-center",children:l(h,{className:"form-label",for:"order_comments",children:"Customer comment"})}),l(s,{sm:"3",children:l(o,{type:"text",name:"order_comments",id:"order_comments",placeholder:"Enter Customer comment",value:e==null?void 0:e.order_comments,onChange:n})})]}),i(t,{className:"pt-1",children:[l(s,{sm:"2",className:"d-flex align-items-center",children:l(h,{className:"form-label",for:"ship_message",children:"Shipper Message"})}),l(s,{sm:"3",children:l(o,{type:"textarea",name:"ship_message",id:"ship_message",placeholder:"Enter Shipper Message",value:e==null?void 0:e.ship_message,onChange:n})})]})]})},ee=(e,n,u,g)=>{var y,p,N,k,E,d,x,c;return f.exports.useEffect(()=>{var m,r,v,_,b,S,F;n({target:{name:"total",value:parseFloat(parseFloat((m=e==null?void 0:e.subtotal)!=null?m:0)-parseFloat((r=e==null?void 0:e.coupon_value)!=null?r:0)+parseFloat((v=e==null?void 0:e.gift_wrap_cost)!=null?v:0)+parseFloat((_=e==null?void 0:e.shipping_charge)!=null?_:0)+parseFloat((b=e==null?void 0:e.insurance)!=null?b:0)+parseFloat((S=e==null?void 0:e.adjustments)!=null?S:0)+parseFloat((F=e==null?void 0:e.tax_charge)!=null?F:0)).toFixed(2)}})},[e==null?void 0:e.subtotal,e==null?void 0:e.coupon_value,e==null?void 0:e.gift_wrap_cost,e==null?void 0:e.shipping_charge,e==null?void 0:e.insurance,e==null?void 0:e.adjustments,e==null?void 0:e.tax_charge]),l(f.exports.Fragment,{children:i(t,{className:"pt-2",children:[l(s,{sm:"7"}),i(s,{sm:"5",children:[i(t,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Subtotal:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(o,{type:"number",name:"subtotal",id:"subtotal",value:(y=e==null?void 0:e.subtotal)!=null?y:0,disabled:!0})})]}),i(t,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Coupon-discount:"}),l(s,{sm:"4",children:l(o,{type:"text",name:"coupon_id",id:"coupon_id",placeholder:"Coupon id",value:e==null?void 0:e.coupon_id,onChange:n})}),l(s,{sm:"4",children:l(o,{type:"number",name:"coupon_value",id:"coupon_value",value:(p=e==null?void 0:e.coupon_value)!=null?p:0,onChange:n})})]}),i(t,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Gift Wrap:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(o,{type:"number",name:"gift_wrap_cost",id:"gift_wrap_cost",value:(N=e==null?void 0:e.gift_wrap_cost)!=null?N:0,onChange:n})})]}),i(t,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Shipping:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(o,{type:"number",name:"shipping_charge",id:"shipping_charge",value:(k=e==null?void 0:e.shipping_charge)!=null?k:0,onChange:n})})]}),i(t,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Insurance:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(o,{type:"number",name:"insurance",id:"insurance",value:(E=e==null?void 0:e.insurance)!=null?E:0,onChange:n})})]}),i(t,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Adjustments:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(o,{type:"number",name:"adjustments",id:"adjustments",value:(d=e==null?void 0:e.adjustments)!=null?d:0,onChange:n})})]}),i(t,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Tax:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(o,{type:"number",name:"tax_charge",id:"tax_charge",value:(x=e==null?void 0:e.tax_charge)!=null?x:0,onChange:n})})]}),i(t,{children:[l(s,{sm:"4",className:"d-flex align-self-center justify-content-end",children:"Total:"}),l(s,{sm:"4"}),l(s,{sm:"4",children:l(o,{type:"number",name:"total",id:"total",value:(c=e==null?void 0:e.total)!=null?c:0,disabled:!0})})]}),l(t,{children:l(s,{sm:"12",className:"mt-1",children:l("div",{className:"d-flex justify-content-end",children:l(a,{className:"me-1",color:"primary",type:"submit",onClick:m=>{m.preventDefault(),u()},children:"Update Order"})})})})]})]})})},le=(e,n,u)=>{var d,x,c,m;const g=j(),{id:y}=D(),p=P(r=>r.orders);f.exports.useEffect(()=>{g(q()),g(A())},[]);const N=r=>{g(B({id:y,store_select:r==null?void 0:r.value})),n({target:{name:"store_id",value:r==null?void 0:r.value}})},k=r=>{g(M({id:y,shipping_method:r==null?void 0:r.value})),n({target:{name:"shipping_method",value:r==null?void 0:r.value}})},E=r=>{g(M({id:y,ship_date:r[0]})),n({target:{name:"ship_date",value:r[0]}})};return i(f.exports.Fragment,{children:[i(t,{children:[i(s,{sm:"4",children:[i("div",{children:["Order: ",e==null?void 0:e.order_id]}),i("div",{children:["Date: ",e==null?void 0:e.order_date]}),(e==null?void 0:e.purchase_order)&&i("div",{children:["PO: ",e==null?void 0:e.purchase_order]})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"store",children:"Store"}),l(T,{className:"react-select",classNamePrefix:"select",theme:O,placeholder:"Select Store",options:p==null?void 0:p.storeOptions,value:(d=p==null?void 0:p.storeOptions)==null?void 0:d.find(r=>(r==null?void 0:r.value)===(e==null?void 0:e.store_select)),onChange:N})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"date",children:"Status"}),l(T,{className:"react-select",classNamePrefix:"select",theme:O,placeholder:"Select Status",options:p==null?void 0:p.statusOptions,value:(x=p==null?void 0:p.statusOptions)==null?void 0:x.find(r=>(r==null?void 0:r.value)===(e==null?void 0:e.status_select)),onChange:r=>n({target:{name:"status_select",value:r==null?void 0:r.value}})})]})]}),l("hr",{}),i(t,{children:[l(s,{sm:"2"}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"store",children:"Ship Via"}),l(T,{className:"react-select",classNamePrefix:"select",theme:O,placeholder:"Ship Via",options:p==null?void 0:p.storeOptions,value:(c=p==null?void 0:p.storeOptions)==null?void 0:c.find(r=>(r==null?void 0:r.value)===(e==null?void 0:e.shipping_method)),onChange:k})]}),i(s,{sm:"4",children:[l(h,{className:"form-label",for:"date",children:"Ship By Date"}),l(K,{className:"form-control",id:"date",placeholder:"Select Date",value:(m=e==null?void 0:e.ship_date)!=null?m:null,options:{dateFormat:"d-m-Y"},onChange:E})]}),l(s,{sm:"2",className:"d-flex align-items-end",children:(e==null?void 0:e.order_status)!=12&&(e==null?void 0:e.order_status)!=7&&l("div",{children:(e==null?void 0:e.carrier)=="MN"&&(e==null?void 0:e.order_status)!=12&&(e==null?void 0:e.order_status)!=7?l(a,{color:"info",onClick:r=>r.preventDefault(),children:(order==null?void 0:order.method)!=""?order==null?void 0:order.method:"Manual Ship"}):(e==null?void 0:e.batched)==0&&(e==null?void 0:e.order_status)!=6&&(e==null?void 0:e.order_status)!=8?l(a,{color:"info",onClick:r=>r.preventDefault(),children:"Ship"}):(e==null?void 0:e.order_status)==10&&l(a,{color:"info",onClick:r=>r.preventDefault(),children:"Re-Ship Returned Package"})})})]})]})},se=(e,n,u)=>l("div",{children:i(C,{isOpen:e,toggle:()=>n(!e),className:"modal-dialog-centered",children:[l(I,{toggle:()=>n(!e),children:"Enter Tracking Number"}),i(z,{children:[i("div",{className:"mb-2",children:[l(h,{className:"form-label",for:"email",children:"Ship Via"}),l(o,{type:"email",id:"email",placeholder:"Email Address"})]}),i("div",{className:"mb-2",children:[l(h,{className:"form-label",for:"password",children:"Tracking Number"}),l(o,{type:"password",id:"password",placeholder:"Password"})]})]}),l(L,{children:l(a,{color:"primary",onClick:()=>n(!e),children:"Ship Item"})})]})}),re=(e,n,u,g,y)=>{var x;const p=j(),N=async c=>{let m=[];return c.length>3?(m=await p(Z(c)),m==null?void 0:m.payload):[]},k=c=>{var r,v,_,b,S,F;const m=[...(r=e==null?void 0:e.items)!=null?r:[]];m==null||m.push({sku:(v=c==null?void 0:c.data)==null?void 0:v.product_model,id_catalog:(_=c==null?void 0:c.data)==null?void 0:_.id_catalog,item_description:(b=c==null?void 0:c.data)==null?void 0:b.product_name,item_thumb:(S=c==null?void 0:c.data)==null?void 0:S.product_thumb,item_unit_price:(F=c==null?void 0:c.data)==null?void 0:F.product_price,item_quantity:1,is_new:!0}),n({target:{name:"items",value:m}})},E=(c,m)=>{var v,_,b;const r=[...(v=e==null?void 0:e.items)!=null?v:[]];r[m][(_=c.target)==null?void 0:_.name]=(b=c.target)==null?void 0:b.value,n({target:{name:"items",value:r}})};f.exports.useEffect(()=>{const c=parseFloat(e==null?void 0:e.items.reduce(function(m,r){return parseFloat(m)+parseFloat(r==null?void 0:r.item_unit_price)*parseFloat(r==null?void 0:r.item_quantity)},0)).toFixed(2);n({target:{name:"subtotal",value:c}})},[e==null?void 0:e.items]);const d=c=>{var v;const m=[...(v=e==null?void 0:e.items)!=null?v:[]],r=m.slice(0,c).concat(m.slice(c+1,m==null?void 0:m.length));n({target:{name:"items",value:r}})};return i(f.exports.Fragment,{children:[i(t,{className:"rounded bg-secondary p-1 my-1 text-uppercase",children:[l(s,{sm:"1 text-light fw-bolder ",children:"Image"}),l(s,{sm:"3 text-light fw-bolder",children:"Name"}),l(s,{sm:"4 text-light fw-bolder",children:"Description"}),l(s,{sm:"1 text-light fw-bolder",children:"Quantity"}),l(s,{sm:"1 text-light fw-bolder",children:"Price"}),l(s,{sm:"1 text-light fw-bolder",children:"Total"}),l(s,{sm:"1 text-light fw-bolder",children:"Action"})]}),(x=e==null?void 0:e.items)==null?void 0:x.map((c,m)=>i(t,{className:"",children:[l(s,{sm:"1",children:l("img",{src:c==null?void 0:c.item_thumb,alt:c==null?void 0:c.child_sku,height:"50",width:"50"})}),i(s,{sm:"3",children:[l("div",{children:c==null?void 0:c.child_sku}),l("div",{children:c==null?void 0:c.item_description})]}),l(s,{sm:"4",children:l(o,{type:"text",Rows:"1",name:"options",id:"options",placeholder:"Click Here",value:c==null?void 0:c.options,onChange:r=>E(r,m)})}),l(s,{sm:"1",children:l(o,{type:"number",name:"item_quantity",id:"item_quantity",placeholder:"Item_quantity",value:c==null?void 0:c.item_quantity,onChange:r=>E(r,m)})}),l(s,{sm:"1",children:l(o,{type:"number",name:"item_unit_price",id:"item_unit_price",placeholder:"Price",value:parseFloat(c==null?void 0:c.item_unit_price).toFixed(2),onChange:r=>E(r,m)})}),l(s,{sm:"1",children:l(o,{type:"number",name:"total_price",id:"total_price",placeholder:"Price",value:parseFloat((c==null?void 0:c.item_quantity)*(c==null?void 0:c.item_unit_price)).toFixed(2),disabled:!0})}),l(s,{sm:"1",children:c!=null&&c.is_new?l(a,{color:"danger",onClick:r=>{r.preventDefault(),d(m)},children:"Delete"}):l(a,{color:"success",onClick:r=>{r.preventDefault(),g(!0),y(c)},children:"Tracking"})}),l("hr",{})]},m)),i(t,{className:"pt-2",children:[l(s,{sm:"2"}),l(s,{sm:"8",children:l(X,{isClearable:!1,className:"react-select",classNamePrefix:"select",name:"callback-react-select",loadOptions:N,value:null,onChange:k,theme:O})}),l(s,{sm:"2"})]})]})},ie=(e,n,u)=>l("div",{children:i(C,{isOpen:e,toggle:()=>n(!e),className:"modal-dialog-centered",children:[l(I,{toggle:()=>n(!e),children:"Enter Tracking Number"}),i(z,{children:[i("div",{className:"mb-2",children:[l(h,{className:"form-label",for:"email",children:"Ship Via"}),l(o,{type:"email",id:"email",placeholder:"Email Address"})]}),i("div",{className:"mb-2",children:[l(h,{className:"form-label",for:"password",children:"Tracking Number"}),l(o,{type:"password",id:"password",placeholder:"Password"})]})]}),l(L,{children:l(a,{color:"primary",onClick:()=>n(!e),children:"Ship Item"})})]})}),ue=()=>{const{id:e}=D(),n=j(),u=P(_=>_.orders),[g,y]=f.exports.useState(!1),[p,N]=f.exports.useState(!1),[k,E]=f.exports.useState(null),[d,x]=f.exports.useState({items:[]}),[c,m]=f.exports.useState(null);f.exports.useEffect(()=>{n(R(e))},[e]),f.exports.useEffect(()=>{u!=null&&u.order&&x(u==null?void 0:u.order)},[u==null?void 0:u.order]);const r=_=>{var b,S;x({...d,[(b=_.target)==null?void 0:b.name]:(S=_.target)==null?void 0:S.value})},v=async()=>{var b,S,F;const _=await n(Y({data:d,id:e}));(b=_==null?void 0:_.payload)!=null&&b.status?(x({items:[]}),setTimeout(()=>window.location.reload(),1500)):m((F=(S=_==null?void 0:_.payload)==null?void 0:S.data)==null?void 0:F.errors)};return l(f.exports.Fragment,{children:l(t,{children:l($,{children:l(s,{sm:"12",children:i(H,{children:[l(U,{children:l(G,{tag:"h4",children:"Edit Order"})}),i(Q,{children:[le(d,r),V(d,r,c,y),re(d,r,c,N,E),ee(d,r,v),ie(p,N),se(g,y)]})]})})})})})};export{ue as default};
