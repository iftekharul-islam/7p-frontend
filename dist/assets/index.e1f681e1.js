import{k as i,r as j,a as n,w as b,f1 as ee,j as r,f as s,Q as re,S as de,V as te,X as p,Y as d,G as J,a0 as ae,L as _,bp as se,f2 as K,f3 as U}from"./index.037e03bd.js";/* empty css                  */import{a as oe}from"./App.85bd2f0b.js";import{h as B}from"./moment.4d75c86c.js";import{F as le}from"./index.6bef9504.js";const ue=()=>{var R,A,F;const u=oe(),O=i(),[N,h]=j.exports.useState(!1),{data:a,searchParams:l}=n(e=>e.WAP),{state:v}=b(),y=async(e,o,m)=>{e.preventDefault(),u(K({type:m,id:o})),h(!0);const c=await u(U({[m]:o}));c!=null&&c.payload&&O("/wap/bin"),h(!1)},Z=async()=>{h(!0);const e=await u(U(v));e!=null&&e.payload&&O("/wap/bin"),h(!1)};j.exports.useEffect(()=>{v?Z():L()},[v]);const L=async()=>{h(!0),await u(ee()),h(!1)},M=e=>{u(K(e))};return r(j.exports.Fragment,{children:s(re,{children:[r(de,{children:r("h4",{className:"card-title",children:"WAP"})}),s(te,{children:[s(p,{className:"mb-1",children:[r(d,{md:"1"}),r(d,{md:"2",children:r(le,{className:"form-control",options:{dateFormat:"Y-m-d"},value:l==null?void 0:l.end_date,onChange:e=>{M({end_date:e[0]})},placeholder:"Older Than"})}),r(d,{md:"2",children:r(J,{color:"primary",onClick:L,disabled:N,children:N?"Please Wait...":"Search by Date"})}),r(d,{md:"2"}),r(d,{md:"2",children:r(ae,{type:"text",name:"order_id",placeholder:"Scan Label",value:l==null?void 0:l.order_id,onChange:e=>{var o;return M({order_id:(o=e==null?void 0:e.target)==null?void 0:o.value})}})}),r(d,{md:"2",children:r(J,{color:"primary",onClick:e=>y(e,l==null?void 0:l.order_id,"order_id"),disabled:N,children:N?"Please Wait...":"Open Bin"})})]}),((R=a==null?void 0:a.bins)==null?void 0:R.length)>0?s("div",{children:[s(p,{children:[r(d,{md:"1",className:"p-1 border",children:r("b",{children:"Bin"})}),r(d,{md:"1",className:"p-1 border",children:r("b",{children:" Status "})}),r(d,{md:"2",className:"p-1 border",children:r("b",{children:" Last Item Added "})}),r(d,{md:"2",className:"p-1 border",children:r("b",{children:" Store Order"})}),r(d,{md:"1",className:"p-1 border",children:r("b",{children:" Order Date"})}),r(d,{md:"1",className:"p-1 border",children:r("b",{children:" In Order"})}),r(d,{md:"1",className:"p-1 border",children:r("b",{children:" In Bin"})}),r(d,{md:"1",className:"p-1 border",children:r("b",{children:" Rejected"})}),r(d,{md:"2",className:"p-1 border",children:r("b",{children:" Backorder"})})]}),(A=a==null?void 0:a.sorted_bins)==null?void 0:A.map((e,o)=>{var m,c,f,g,D,k,Y,w,x,C;if(((c=(m=e==null?void 0:e.order)==null?void 0:m.shippable_items)==null?void 0:c.length)==(e==null?void 0:e.item_count)&&(((f=e==null?void 0:e.order)==null?void 0:f.order_status)==4||((g=e==null?void 0:e.order)==null?void 0:g.order_status)==9))return s(p,{children:[r(d,{md:"1",className:"p-1 border",children:r(_,{onClick:S=>y(S,e==null?void 0:e.id,"bin"),children:e==null?void 0:e.name})}),r(d,{md:"1",className:"p-1 border text-danger",children:"Ready to Ship"}),r(d,{md:"2",className:"p-1 border",children:e==null?void 0:e.last}),s(d,{md:"2",className:"p-1 border",children:[r(_,{to:`/customer-order-edit/${e==null?void 0:e.order_id}`,children:(D=e==null?void 0:e.order)==null?void 0:D.short_order}),((k=e==null?void 0:e.order)==null?void 0:k.store_id)!="52053152"&&r("div",{children:(Y=e==null?void 0:e.order)==null?void 0:Y.store_name})]}),r(d,{md:"1",className:"p-1 border",children:B((w=e==null?void 0:e.order)==null?void 0:w.order_date).format("YYYY-MM-DD")}),r(d,{md:"1",className:"p-1 border",children:(C=(x=e==null?void 0:e.order)==null?void 0:x.shippable_items)==null?void 0:C.length}),r(d,{md:"1",className:"p-1 border",children:e==null?void 0:e.item_count})]},o)}),(F=a==null?void 0:a.bins)==null?void 0:F.map((e,o)=>{var m,c,f,g,D,k,Y,w,x,C,S,I,W,$,T,E,z,G,H,P,Q,V,X;if(((c=(m=e==null?void 0:e.order)==null?void 0:m.shippable_items)==null?void 0:c.length)>(e==null?void 0:e.item_count)&&(((f=e==null?void 0:e.order)==null?void 0:f.order_status)!=4||((g=e==null?void 0:e.order)==null?void 0:g.order_status)!=9))return s(p,{children:[r(d,{md:"1",className:"p-1 border",children:r(_,{onClick:t=>y(t,e==null?void 0:e.id,"bin"),children:e==null?void 0:e.name})}),r(d,{md:"1",className:"p-1 border text-danger",children:((D=e==null?void 0:e.order)==null?void 0:D.order_status)==4||((k=e==null?void 0:e.order)==null?void 0:k.order_status)==9?"Incomplete":(w=(Y=a==null?void 0:a.status)==null?void 0:Y.find(t=>{var q;return(t==null?void 0:t.id)==((q=e==null?void 0:e.order)==null?void 0:q.order_status)}))==null?void 0:w.label}),r(d,{md:"2",className:"p-1 border",children:e==null?void 0:e.last}),s(d,{md:"2",className:"p-1 border",children:[r(_,{to:`/customer-order-edit/${e==null?void 0:e.order_id}`,children:(x=e==null?void 0:e.order)==null?void 0:x.short_order}),((C=e==null?void 0:e.order)==null?void 0:C.store_id)!="52053152"&&r("div",{children:(S=e==null?void 0:e.order)==null?void 0:S.store_name})]}),r(d,{md:"1",className:new Date((I=e==null?void 0:e.order)==null?void 0:I.order_date).getTime()<new Date().setDate(new Date().getDate()-7)?"p-1 border":"p-1 border text-danger",children:B((W=e==null?void 0:e.order)==null?void 0:W.order_date).format("YYYY-MM-DD")}),r(d,{md:"1",className:"p-1 border",children:(T=($=e==null?void 0:e.order)==null?void 0:$.shippable_items)==null?void 0:T.length}),r(d,{md:"1",className:"p-1 border",children:e==null?void 0:e.item_count}),r(d,{md:"1",className:"p-1 border",children:e.order.items.filter(t=>t.item_status==="rejected").length>0&&e.order.items.filter(t=>t.item_status==="rejected").length}),r(d,{md:"2",className:"p-1 border",children:e.order.items.filter(t=>t.item_status==="back order").length>0&&e.order.items.filter(t=>t.item_status==="back order").length})]},o);if(((z=(E=e==null?void 0:e.order)==null?void 0:E.shippable_items)==null?void 0:z.length)<(e==null?void 0:e.item_count))return s(p,{children:[r(d,{md:"1",className:"p-1 border",children:r(_,{onClick:t=>y(t,e==null?void 0:e.id,"bin"),children:e==null?void 0:e.name})}),r(d,{md:"1",className:"p-1 border",children:"ERROR"}),r(d,{md:"2",className:"p-1 border"}),s(d,{md:"2",className:"p-1 border",children:[r(_,{to:`/customer-order-edit/${e==null?void 0:e.order_id}`,children:e==null?void 0:e.order_id}),((G=e==null?void 0:e.order)==null?void 0:G.store_id)!="52053152"&&r("div",{children:(H=e==null?void 0:e.order)==null?void 0:H.store_name})]}),r(d,{md:"1",className:new Date((P=e==null?void 0:e.order)==null?void 0:P.order_date).getTime()<new Date().setDate(new Date().getDate()-7)?"p-1 border":"p-1 border text-danger",children:B((Q=e==null?void 0:e.order)==null?void 0:Q.order_date).format("YYYY-MM-DD")}),r(d,{md:"1",className:"p-1 border",children:(X=(V=e==null?void 0:e.order)==null?void 0:V.shippable_items)==null?void 0:X.length}),r(d,{md:"1",className:"p-1 border",children:e==null?void 0:e.item_count}),r(d,{md:"1",className:"p-1 border",children:e.order.items.filter(t=>t.item_status==="rejected").length>0&&e.order.items.filter(t=>t.item_status==="rejected").length}),r(d,{md:"2",className:"p-1 border",children:e.order.items.filter(t=>t.item_status==="back order").length>0&&e.order.items.filter(t=>t.item_status==="back order").length})]},o)})]}):r(p,{children:r(d,{md:"12",children:r("h4",{className:"text-center",children:N?s("span",{children:[r(se,{size:"sm"}),"Data Loading"]}):"No Data Found"})})})]})]})})};export{ue as default};
