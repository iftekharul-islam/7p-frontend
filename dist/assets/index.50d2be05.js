import{j as e,f as c,L as C,r as l,az as A,aF as E,aG as I,X as S,Y as i,G as g,cS as M,a as B,a5 as R,cT as k,cU as W,cV as $,Q as y,a0 as G,k as U}from"./index.3c92940a.js";import{Q as K}from"./index.es.ff394365.js";import{R as V}from"./react-paginate.fdcfc0ba.js";import{S as P}from"./react-select.esm.d0f99a9a.js";import{E as X}from"./edit.710fe604.js";import{T as Y}from"./trash-2.30d50322.js";import{a as D}from"./App.1e2e16c3.js";/* empty css                                  */import{C as J}from"./chevron-down.683cbc3a.js";import{P as Z}from"./plus-circle.64c6e7cd.js";import"./emotion-memoize.esm.06f0e458.js";const q=t=>{const s=D(),[u,h]=l.exports.useState(null),[o,d]=l.exports.useState(!1),x=m=>{m.preventDefault(),s(M(u.id)),d(!o)};return c("div",{className:"column-action",children:[e(C,{className:"text-truncate text-capitalize align-middle",to:`/sku-product-edit/${t.id}`,children:e(X,{size:18,className:"text-primary me-50"})}),e(C,{className:"text-truncate text-capitalize align-middle",onClick:m=>{m.preventDefault(),h(t),d(!0)},children:e(Y,{size:18,className:"text-danger me-50"})}),c(A,{isOpen:o,toggle:()=>d(!o),className:"modal-dialog-centered modal-lg",children:[e(E,{className:"bg-transparent",toggle:()=>d(!o)}),c(I,{className:"px-2 pb-2",children:[e("div",{className:"text-center mb-4",children:e("h1",{children:"Are you sure to delete?"})}),e(S,{tag:"form",onSubmit:x,children:c(i,{className:"text-center mt-2",xs:12,children:[e(g,{type:"submit",color:"danger",className:"me-1",children:"Confirm"}),e(g,{outline:!0,onClick:()=>d(!o),children:"Cancel"})]})})]})]})]})},w=[{name:"SKU",sortable:!0,minWidth:"120px",sortField:"product_model",selector:t=>t==null?void 0:t.product_model,cell:t=>e("span",{className:"fw-bolder",children:t==null?void 0:t.product_model})},{name:"Product",sortable:!1,minWidth:"300px",sortField:"price",selector:t=>t.product_name,cell:t=>c("div",{className:"d-flex",children:[e("img",{src:t==null?void 0:t.product_thumb,width:"50",height:"50"}),e("div",{className:"px-1 d-flex align-items-center",children:c("div",{children:[e("div",{children:t.product_name}),e(C,{to:t==null?void 0:t.product_url,className:"text-truncate text-capitalize align-middle",target:"_blank",children:t.id_catalog})]})})]})},{name:"Actions",minWidth:"100px",cell:t=>q(t)}],me=()=>{var b,_;const t=D(),s=B(a=>a.productskus),[u,h]=l.exports.useState(!1),[o,d]=R();o.get("q");const x=o.get("search_for"),m=o.get("search_in"),[p,F]=l.exports.useState(1),[f,L]=l.exports.useState("desc"),[v,z]=l.exports.useState("id"),[n,O]=l.exports.useState(null),N=(a,r)=>{O({...n,[a]:r})};l.exports.useEffect(()=>{t(k({page:p,sort:f,sortColumn:v,search_for:x,search_in:m,...n}))},[p,f,v]),l.exports.useEffect(()=>{t(W()),t($())},[]);const j=async a=>{h(!0),a.preventDefault(),await t(k({page:p,sort:f,sortColumn:v,...n})),h(!1)},T=(a,r)=>{L(r),z(a.sortField)},H=()=>{const a=U();return e("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:c(S,{children:[e(i,{xl:"10"}),e(i,{xl:"2",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:e("div",{className:"d-flex align-items-center table-header-actions",children:c(g,{className:"add-new-user",color:"primary",onClick:r=>{r.preventDefault(),a("/sku-product-add")},children:[e(Z,{size:14})," Product"]})})})]})})},Q=()=>{const a=Number(Math.ceil(s.total/10));return e(V,{previousLabel:"",nextLabel:"",pageCount:a||1,activeClassName:"active",forcePage:p!==0?p-1:0,onPageChange:r=>F(r.selected+1),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})};return e("div",{className:"app-user-list",children:c(l.exports.Fragment,{children:[e(y,{className:"p-2",children:c(S,{children:[e(i,{sm:"4",children:e(G,{placeholder:"Search for",value:n==null?void 0:n.search_for,onChange:a=>{var r;return N("search_for",(r=a==null?void 0:a.target)==null?void 0:r.value)}})}),e(i,{sm:"3",children:e(P,{placeholder:"Search in",options:s==null?void 0:s.searchableFieldsOptions,value:(b=s==null?void 0:s.searchableFieldsOptions)==null?void 0:b.find(a=>(a==null?void 0:a.value)==(n==null?void 0:n.search_in)),onChange:a=>N("search_in",a==null?void 0:a.value)})}),e(i,{sm:"3",children:e(P,{placeholder:"Search in production category",options:s==null?void 0:s.productionCategoryOptions,value:(_=s==null?void 0:s.productionCategoryOptions)==null?void 0:_.find(a=>(a==null?void 0:a.value)==(n==null?void 0:n.product_production_category)),onChange:a=>N("product_production_category",a==null?void 0:a.value)})}),e(i,{sm:"2",className:"d-flex align-items-center flex-column",children:e(g,{color:"primary",onClick:j,disabled:u,children:u?"Searching":"Search"})})]})}),e(y,{className:"overflow-hidden",children:e("div",{className:"react-dataTable",children:e(K,{striped:!0,noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:w,onSort:T,customStyles:{cells:{style:{marginTop:15,marginBottom:15}}},sortIcon:e(J,{}),className:"react-dataTable",paginationComponent:Q,data:s.data,subHeaderComponent:e(H,{})})})})]})})};export{me as default};
